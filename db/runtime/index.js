var kr=Object.defineProperty,Gd=Object.prototype.hasOwnProperty;var f=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Ws=e=>kr(e,"__esModule",{value:!0}),zd=(e,t)=>{Ws(e);for(var r in t)kr(e,r,{get:t[r],enumerable:!0})},Vd=(e,t)=>{if(Ws(e),typeof t=="object"||typeof t=="function")for(let r in t)!Gd.call(e,r)&&r!=="default"&&kr(e,r,{get:()=>t[r],enumerable:!0});return e},R=e=>e&&e.__esModule?e:Vd(kr({},"default",{value:e,enumerable:!0}),e);var Xs=f((tb,Js)=>{Js.exports=Ys;Ys.sync=Hd;var Qs=require("fs");function Wd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(r=r.split(";"),r.indexOf("")!==-1)return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Ks(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Wd(t,r)}function Ys(e,t,r){Qs.stat(e,function(n,i){r(n,n?!1:Ks(i,e,t))})}function Hd(e,t){return Ks(Qs.statSync(e),e,t)}});var no=f((rb,Zs)=>{Zs.exports=eo;eo.sync=Jd;var to=require("fs");function eo(e,t,r){to.stat(e,function(n,i){r(n,n?!1:ro(i,t))})}function Jd(e,t){return ro(to.statSync(e),t)}function ro(e,t){return e.isFile()&&Yd(e,t)}function Yd(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=a|l,d=r&c||r&l&&i===o||r&a&&n===s||r&u&&s===0;return d}});var so=f((ib,io)=>{var nb=require("fs"),_r;process.platform==="win32"||global.TESTING_WINDOWS?_r=Xs():_r=no();io.exports=Kn;Kn.sync=Qd;function Kn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Kn(e,t||{},function(s,o){s?i(s):n(o)})})}_r(e,t||{},function(n,i){n&&((n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1)),r(n,i)})}function Qd(e,t){try{return _r.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var po=f((sb,oo)=>{const ut=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ao=require("path"),Kd=ut?";":":",lo=so(),uo=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),co=(e,t)=>{const r=t.colon||Kd,n=e.match(/\//)||ut&&e.match(/\\/)?[""]:[...ut?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ut?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ut?i.split(r):[""];return ut&&(e.indexOf(".")!==-1&&s[0]!==""&&s.unshift("")),{pathEnv:n,pathExt:s,pathExtExe:i}},ho=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:i,pathExtExe:s}=co(e,t),o=[],a=c=>new Promise((u,d)=>{if(c===n.length)return t.all&&o.length?u(o):d(uo(e));const h=n[c],p=/^".*"$/.test(h)?h.slice(1,-1):h,m=ao.join(p,e),w=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;u(l(w,c,0))}),l=(c,u,d)=>new Promise((h,p)=>{if(d===i.length)return h(a(u+1));const m=i[d];lo(c+m,{pathExt:s},(w,g)=>{if(!w&&g)if(t.all)o.push(c+m);else return h(c+m);return h(l(c,u,d+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},Xd=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:i}=co(e,t),s=[];for(let o=0;o<r.length;o++){const a=r[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,c=ao.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let d=0;d<n.length;d++){const h=u+n[d];try{const p=lo.sync(h,{pathExt:i});if(p)if(t.all)s.push(h);else return h}catch(p){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw uo(e)};oo.exports=ho;ho.sync=Xd});var Zn=f((ob,Xn)=>{"use strict";const fo=(e={})=>{const t=e.env||process.env,r=e.platform||process.platform;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Xn.exports=fo;Xn.exports.default=fo});var wo=f((ab,mo)=>{"use strict";const go=require("path"),Zd=po(),eh=Zn();function yo(e,t){const r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(a){}let o;try{o=Zd.sync(e.command,{path:r[eh({env:r})],pathExt:t?go.delimiter:void 0})}catch(a){}finally{s&&process.chdir(n)}return o&&(o=go.resolve(i?e.options.cwd:"",o)),o}function th(e){return yo(e)||yo(e,!0)}mo.exports=th});var bo=f((lb,ei)=>{"use strict";const ti=/([()\][%!^"`<>&|;, *?])/g;function rh(e){return e=e.replace(ti,"^$1"),e}function nh(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ti,"^$1"),t&&(e=e.replace(ti,"^$1")),e}ei.exports.command=rh;ei.exports.argument=nh});var vo=f((ub,Mo)=>{"use strict";Mo.exports=/^#!(.*)/});var To=f((cb,Eo)=>{"use strict";const ih=vo();Eo.exports=(e="")=>{const t=e.match(ih);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var xo=f((db,Ao)=>{"use strict";const ri=require("fs"),sh=To();function oh(e){const t=150,r=Buffer.alloc(t);let n;try{n=ri.openSync(e,"r"),ri.readSync(n,r,0,t,0),ri.closeSync(n)}catch(i){}return sh(r.toString())}Ao.exports=oh});var Io=f((hb,Do)=>{"use strict";const ah=require("path"),Co=wo(),So=bo(),lh=xo(),uh=process.platform==="win32",ch=/\.(?:com|exe)$/i,dh=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function hh(e){e.file=Co(e);const t=e.file&&lh(e.file);return t?(e.args.unshift(e.file),e.command=t,Co(e)):e.file}function ph(e){if(!uh)return e;const t=hh(e),r=!ch.test(t);if(e.options.forceShell||r){const n=dh.test(t);e.command=ah.normalize(e.command),e.command=So.command(e.command),e.args=e.args.map(s=>So.argument(s,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function fh(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);const n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:ph(n)}Do.exports=fh});var _o=f((pb,Oo)=>{"use strict";const ni=process.platform==="win32";function ii(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function mh(e,t){if(!ni)return;const r=e.emit;e.emit=function(n,i){if(n==="exit"){const s=ko(i,t,"spawn");if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function ko(e,t){return ni&&e===1&&!t.file?ii(t.original,"spawn"):null}function gh(e,t){return ni&&e===1&&!t.file?ii(t.original,"spawnSync"):null}Oo.exports={hookChildProcess:mh,verifyENOENT:ko,verifyENOENTSync:gh,notFoundError:ii}});var ai=f((fb,ct)=>{"use strict";const Ro=require("child_process"),si=Io(),oi=_o();function Po(e,t,r){const n=si(e,t,r),i=Ro.spawn(n.command,n.args,n.options);return oi.hookChildProcess(i,n),i}function yh(e,t,r){const n=si(e,t,r),i=Ro.spawnSync(n.command,n.args,n.options);return i.error=i.error||oi.verifyENOENTSync(i.status,n),i}ct.exports=Po;ct.exports.spawn=Po;ct.exports.sync=yh;ct.exports._parse=si;ct.exports._enoent=oi});var ui=f((Vt,Rr)=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.createLineStream=void 0;const li=require("stream"),wh=require("util");function bh(e,t){return Rr.exports.createStream(e,t)}Vt.default=bh;Rr.exports.createStream=function(e,t){return e?Lo(e,t):new Le(t)};function Lo(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");const r=new Le(t);return e.pipe(r),r}Vt.createLineStream=Lo;Rr.exports.LineStream=Le;function Le(e){li.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof li.Readable&&(this.encoding=t._readableState.encoding)})}wh.inherits(Le,li.Transform);Le.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;const n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};Le.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){const n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){const i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};Le.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};Le.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var Fo=f((mb,No)=>{"use strict";No.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var ci=f((gb,jo)=>{const Ht=Fo(),qo={};for(const e of Object.keys(Ht))qo[Ht[e]]=e;const T={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};jo.exports=T;for(const e of Object.keys(T)){if(!("channels"in T[e]))throw new Error("missing channels property: "+e);if(!("labels"in T[e]))throw new Error("missing channel labels property: "+e);if(T[e].labels.length!==T[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=T[e];delete T[e].channels,delete T[e].labels,Object.defineProperty(T[e],"channels",{value:t}),Object.defineProperty(T[e],"labels",{value:r})}T.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const c=(i+s)/2;return s===i?l=0:c<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,c*100]};T.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),d=function(h){return(c-h)/6/u+1/2};return u===0?(i=0,s=0):(s=u/c,t=d(o),r=d(a),n=d(l),o===c?i=n-r:a===c?i=1/3+t-n:l===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};T.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=T.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};T.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Mh(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}T.rgb.keyword=function(e){const t=qo[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Ht)){const s=Ht[i],o=Mh(e,s);o<r&&(r=o,n=i)}return n};T.keyword.rgb=function(e){return Ht[e]};T.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};T.rgb.lab=function(e){const t=T.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};T.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,l=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[c]=o*255;return l};T.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};T.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};T.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};T.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const l=r+s*(a-r);let c,u,d;switch(o){default:case 6:case 0:c=a,u=l,d=r;break;case 1:c=l,u=a,d=r;break;case 2:c=r,u=a,d=l;break;case 3:c=r,u=l,d=a;break;case 4:c=l,u=r,d=a;break;case 5:c=a,u=r,d=l;break}return[c*255,u*255,d*255]};T.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};T.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};T.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};T.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=s**3,l=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};T.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};T.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};T.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?T.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};T.hsv.ansi16=function(e){return T.rgb.ansi16(T.hsv.rgb(e),e[2])};T.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};T.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};T.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};T.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};T.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};T.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};T.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};T.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};T.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};T.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};T.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};T.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};T.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};T.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};T.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};T.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};T.gray.hsl=function(e){return[0,0,e[0]]};T.gray.hsv=T.gray.hsl;T.gray.hwb=function(e){return[0,100,e[0]]};T.gray.cmyk=function(e){return[0,0,0,e[0]]};T.gray.lab=function(e){return[e[0],0,0]};T.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};T.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var Bo=f((yb,$o)=>{const Pr=ci();function vh(){const e={},t=Object.keys(Pr);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Eh(e){const t=vh(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(Pr[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function Th(e,t){return function(r){return t(e(r))}}function Ah(e,t){const r=[t[e].parent,e];let n=Pr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=Th(Pr[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}$o.exports=function(e){const t=Eh(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=Ah(o,t)}return r}});var Go=f((wb,Uo)=>{const di=ci(),xh=Bo(),dt={},Dh=Object.keys(di);function Ch(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Sh(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Dh.forEach(e=>{dt[e]={},Object.defineProperty(dt[e],"channels",{value:di[e].channels}),Object.defineProperty(dt[e],"labels",{value:di[e].labels});const t=xh(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];dt[e][n]=Sh(i),dt[e][n].raw=Ch(i)})});Uo.exports=dt});var Yo=f((bb,zo)=>{"use strict";const Vo=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Ho=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},Wo=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Lr=e=>e,Jo=(e,t,r)=>[e,t,r],ht=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let hi;const pt=(e,t,r,n)=>{hi===void 0&&(hi=Go());const i=n?10:0,s={};for(const[o,a]of Object.entries(hi)){const l=o==="ansi16"?"ansi":o;o===t?s[l]=e(r,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function Ih(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",ht(t.color,"ansi",()=>pt(Vo,"ansi16",Lr,!1)),ht(t.color,"ansi256",()=>pt(Ho,"ansi256",Lr,!1)),ht(t.color,"ansi16m",()=>pt(Wo,"rgb",Jo,!1)),ht(t.bgColor,"ansi",()=>pt(Vo,"ansi16",Lr,!0)),ht(t.bgColor,"ansi256",()=>pt(Ho,"ansi256",Lr,!0)),ht(t.bgColor,"ansi16m",()=>pt(Wo,"rgb",Jo,!0)),t}Object.defineProperty(zo,"exports",{enumerable:!0,get:Ih})});var pi=f((Mb,Qo)=>{"use strict";Qo.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Wt=f((vb,Ko)=>{"use strict";const Oh=require("os"),Xo=require("tty"),he=pi(),{env:q}=process;let Ne;he("no-color")||he("no-colors")||he("color=false")||he("color=never")?Ne=0:(he("color")||he("colors")||he("color=true")||he("color=always"))&&(Ne=1);"FORCE_COLOR"in q&&(q.FORCE_COLOR==="true"?Ne=1:q.FORCE_COLOR==="false"?Ne=0:Ne=q.FORCE_COLOR.length===0?1:Math.min(parseInt(q.FORCE_COLOR,10),3));function fi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function mi(e,t){if(Ne===0)return 0;if(he("color=16m")||he("color=full")||he("color=truecolor"))return 3;if(he("color=256"))return 2;if(e&&!t&&Ne===void 0)return 0;const r=Ne||0;if(q.TERM==="dumb")return r;if(process.platform==="win32"){const n=Oh.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in q)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in q)||q.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in q)return 1;if(q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in q){const n=parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM)||"COLORTERM"in q?1:r}function kh(e){const t=mi(e,e&&e.isTTY);return fi(t)}Ko.exports={supportsColor:kh,stdout:fi(mi(!0,Xo.isatty(1))),stderr:fi(mi(!0,Xo.isatty(2)))}});var ea=f((Eb,Zo)=>{"use strict";const _h=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},Rh=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};Zo.exports={stringReplaceAll:_h,stringEncaseCRLFWithFirstIndex:Rh}});var sa=f((Tb,ta)=>{"use strict";const Ph=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ra=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Lh=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Nh=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Fh=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function na(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Fh.get(e)||e}function jh(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(Lh))r.push(i[2].replace(Nh,(a,l,c)=>l?na(l):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function qh(e){ra.lastIndex=0;const t=[];let r;for(;(r=ra.exec(e))!==null;){const n=r[1];if(r[2]){const i=jh(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function ia(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}ta.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(Ph,(s,o,a,l,c,u)=>{if(o)i.push(na(o));else if(l){const d=i.join("");i=[],n.push(r.length===0?d:ia(e,r)(d)),r.push({inverse:a,styles:qh(l)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(ia(e,r)(i.join(""))),i=[],r.pop()}else i.push(u)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var ve=f((Ab,oa)=>{"use strict";const Jt=Yo(),{stdout:gi,stderr:yi}=Wt(),{stringReplaceAll:$h,stringEncaseCRLFWithFirstIndex:Bh}=ea(),{isArray:Nr}=Array,aa=["ansi","ansi","ansi256","ansi16m"],ft=Object.create(null),Uh=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=gi?gi.level:0;e.level=t.level===void 0?r:t.level};class Gh{constructor(e){return la(e)}}const la=e=>{const t={};return Uh(t,e),t.template=(...r)=>ua(t.template,...r),Object.setPrototypeOf(t,Fr.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Gh,t.template};function Fr(e){return la(e)}for(const[e,t]of Object.entries(Jt))ft[e]={get(){const r=jr(this,wi(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};ft.visible={get(){const e=jr(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const ca=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of ca)ft[e]={get(){const{level:t}=this;return function(...r){const n=wi(Jt.color[aa[t]][e](...r),Jt.color.close,this._styler);return jr(this,n,this._isEmpty)}}};for(const e of ca){const t="bg"+e[0].toUpperCase()+e.slice(1);ft[t]={get(){const{level:r}=this;return function(...n){const i=wi(Jt.bgColor[aa[r]][e](...n),Jt.bgColor.close,this._styler);return jr(this,i,this._isEmpty)}}}}const zh=Object.defineProperties(()=>{},{...ft,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),wi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},jr=(e,t,r)=>{const n=(...i)=>Nr(i[0])&&Nr(i[0].raw)?da(n,ua(n,...i)):da(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,zh),n._generator=e,n._styler=t,n._isEmpty=r,n},da=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=$h(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=Bh(t,i,n,s)),n+t+i};let bi;const ua=(e,...t)=>{const[r]=t;if(!Nr(r)||!Nr(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return bi===void 0&&(bi=sa()),bi(e,i.join(""))};Object.defineProperties(Fr.prototype,ft);const qr=Fr();qr.supportsColor=gi;qr.stderr=Fr({level:yi?yi.level:0});qr.stderr.supportsColor=yi;oa.exports=qr});var Mi=f((xb,ha)=>{var mt=1e3,gt=mt*60,yt=gt*60,Ye=yt*24,Vh=Ye*7,Hh=Ye*365.25;ha.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Wh(e);if(r==="number"&&isFinite(e))return t.long?Yh(e):Jh(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Wh(e){if(e=String(e),e.length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Hh;case"weeks":case"week":case"w":return r*Vh;case"days":case"day":case"d":return r*Ye;case"hours":case"hour":case"hrs":case"hr":case"h":return r*yt;case"minutes":case"minute":case"mins":case"min":case"m":return r*gt;case"seconds":case"second":case"secs":case"sec":case"s":return r*mt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}function Jh(e){var t=Math.abs(e);return t>=Ye?Math.round(e/Ye)+"d":t>=yt?Math.round(e/yt)+"h":t>=gt?Math.round(e/gt)+"m":t>=mt?Math.round(e/mt)+"s":e+"ms"}function Yh(e){var t=Math.abs(e);return t>=Ye?$r(e,t,Ye,"day"):t>=yt?$r(e,t,yt,"hour"):t>=gt?$r(e,t,gt,"minute"):t>=mt?$r(e,t,mt,"second"):e+" ms"}function $r(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var vi=f((Db,pa)=>{function Qh(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=Mi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d;function h(...p){if(!h.enabled)return;const m=h,w=Number(new Date),g=w-(d||w);m.diff=g,m.prev=d,m.curr=w,d=w,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let y=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(M,v)=>{if(M==="%%")return M;y++;const A=r.formatters[v];if(typeof A=="function"){const k=p[y];M=A.call(m,k),p.splice(y,1),y--}return M}),r.formatArgs.call(m,p);const b=m.log||r.log;b.apply(m,p)}return h.namespace=u,h.enabled=r.enabled(u),h.useColors=r.useColors(),h.color=r.selectColor(u),h.destroy=n,h.extend=i,typeof r.init=="function"&&r.init(h),r.instances.push(h),h}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,d){const h=r(this.namespace+(typeof d=="undefined"?":":d)+u);return h.log=this.log,h}function s(u){r.save(u),r.names=[],r.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++){if(!h[d])continue;u=h[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(d=0;d<r.instances.length;d++){const m=r.instances[d];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=r.skips.length;d<h;d++)if(r.skips[d].test(u))return!1;for(d=0,h=r.names.length;d<h;d++)if(r.names[d].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}pa.exports=Qh});var fa=f((pe,Br)=>{pe.formatArgs=Kh;pe.save=Xh;pe.load=Zh;pe.useColors=ep;pe.storage=tp();pe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ep(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Kh(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Br.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}pe.log=console.debug||console.log||(()=>{});function Xh(e){try{e?pe.storage.setItem("debug",e):pe.storage.removeItem("debug")}catch(t){}}function Zh(){let e;try{e=pe.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function tp(){try{return localStorage}catch(e){}}Br.exports=vi()(pe);const{formatters:rp}=Br.exports;rp.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ga=f((H,Ur)=>{const np=require("tty"),Ei=require("util");H.init=ip;H.log=sp;H.formatArgs=op;H.save=ap;H.load=lp;H.useColors=up;H.colors=[6,2,3,4,5,1];try{const e=Wt();e&&(e.stderr||e).level>=2&&(H.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}H.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function up(){return"colors"in H.inspectOpts?Boolean(H.inspectOpts.colors):np.isatty(process.stderr.fd)}function op(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Ur.exports.humanize(this.diff)+"[0m")}else e[0]=cp()+t+" "+e[0]}function cp(){return H.inspectOpts.hideDate?"":new Date().toISOString()+" "}function sp(...e){return process.stderr.write(Ei.format(...e)+`
`)}function ap(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function lp(){return process.env.DEBUG}function ip(e){e.inspectOpts={};const t=Object.keys(H.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=H.inspectOpts[t[r]]}Ur.exports=vi()(H);const{formatters:ma}=Ur.exports;ma.o=function(e){return this.inspectOpts.colors=this.useColors,Ei.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};ma.O=function(e){return this.inspectOpts.colors=this.useColors,Ei.inspect(e,this.inspectOpts)}});var Ai=f((Cb,Ti)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ti.exports=fa():Ti.exports=ga()});var wa=f(Fe=>{"use strict";var xi=Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.GeneratorProcess=Fe.GeneratorError=void 0;const dp=ai(),hp=xi(ui()),pp=xi(ve()),fp=xi(Ai()),mp=fp.default("GeneratorProcess");let gp=1;class ya extends Error{constructor(e,t,r){super(e);this.code=t,this.data=r}}Fe.GeneratorError=ya;class yp{constructor(e){this.executablePath=e,this.listeners={},this.exitCode=null,this.stderrLogs=""}async init(){return this.initPromise||(this.initPromise=this.initSingleton()),this.initPromise}initSingleton(){return new Promise((e,t)=>{try{this.child=dp.spawn(this.executablePath,{stdio:["pipe","inherit","pipe"],env:{...process.env,PRISMA_GENERATOR_INVOCATION:"true"},shell:!0}),this.child.on("exit",r=>{this.exitCode=r,r&&r>0&&this.currentGenerateDeferred&&this.currentGenerateDeferred.reject(new Error(this.stderrLogs.split(`
`).slice(-5).join(`
`)))}),this.child.on("error",r=>{this.lastError=r,r.message.includes("EACCES")?t(new Error(`The executable at ${this.executablePath} lacks the right chmod. Please use ${pp.default.bold(`chmod +x ${this.executablePath}`)}`)):t(r)}),hp.default(this.child.stderr).on("data",r=>{const n=String(r);this.stderrLogs+=n+`
`;let i;try{i=JSON.parse(n)}catch(s){mp(n)}i&&this.handleResponse(i)}),setTimeout(()=>{this.exitCode&&this.exitCode>0?t(new Error(`Generator at ${this.executablePath} could not start:

${this.stderrLogs}`)):e()},200)}catch(r){t(r)}})}handleResponse(e){if(e.jsonrpc&&e.id){if(typeof e.id!="number")throw new Error(`message.id has to be a number. Found value ${e.id}`);if(this.listeners[e.id]){if(e.error){const t=new ya(e.error.message,e.error.code,e.error.data);this.listeners[e.id](null,t)}else this.listeners[e.id](e.result);delete this.listeners[e.id]}}}registerListener(e,t){this.listeners[e]=t}sendMessage(e){this.child.stdin.write(JSON.stringify(e)+`
`)}getMessageId(){return gp++}stop(){this.child.killed||this.child.kill()}getManifest(){return new Promise((e,t)=>{const r=this.getMessageId();this.registerListener(r,(n,i)=>{if(i)return t(i);n.manifest?e(n.manifest):e(null)}),this.sendMessage({jsonrpc:"2.0",method:"getManifest",params:{},id:r})})}generate(e){return new Promise((t,r)=>{const n=this.getMessageId();this.currentGenerateDeferred={resolve:t,reject:r},this.registerListener(n,(i,s)=>{if(s){r(s),this.currentGenerateDeferred=void 0;return}t(i),this.currentGenerateDeferred=void 0}),this.sendMessage({jsonrpc:"2.0",method:"generate",params:e,id:n})})}}Fe.GeneratorProcess=yp});var ba=f(wt=>{"use strict";var wp=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.generatorHandler=void 0;const bp=wp(ui());function Mp(e){bp.default(process.stdin).on("data",async t=>{const r=JSON.parse(String(t));if(r.method==="generate"&&r.params)try{const n=await e.onGenerate(r.params);Yt({jsonrpc:"2.0",result:n,id:r.id})}catch(n){Yt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}if(r.method==="getManifest")if(e.onManifest)try{const n=e.onManifest();Yt({jsonrpc:"2.0",result:{manifest:n},id:r.id})}catch(n){Yt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}else Yt({jsonrpc:"2.0",result:{manifest:null},id:r.id})}),process.stdin.resume()}wt.generatorHandler=Mp;function Yt(e){console.error(JSON.stringify(e))}});var va=f(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0})});var Ea=f(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.DMMF=void 0;var vp;(function(e){let t;(function(r){r.findOne="findOne",r.findFirst="findFirst",r.findMany="findMany",r.create="create",r.update="update",r.updateMany="updateMany",r.upsert="upsert",r.delete="delete",r.deleteMany="deleteMany"})(t=e.ModelAction||(e.ModelAction={}))})(vp=Qt.DMMF||(Qt.DMMF={}))});var xa=f(Z=>{"use strict";var Ep=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ta=Z&&Z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ep(t,e,r)};Object.defineProperty(Z,"__esModule",{value:!0});Z.generatorHandler=Z.GeneratorError=Z.GeneratorProcess=void 0;var Aa=wa();Object.defineProperty(Z,"GeneratorProcess",{enumerable:!0,get:function(){return Aa.GeneratorProcess}});Object.defineProperty(Z,"GeneratorError",{enumerable:!0,get:function(){return Aa.GeneratorError}});var Tp=ba();Object.defineProperty(Z,"generatorHandler",{enumerable:!0,get:function(){return Tp.generatorHandler}});Ta(va(),Z);Ta(Ea(),Z)});var Gr=f((Pb,Da)=>{"use strict";Da.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Sa=f((Lb,Ca)=>{"use strict";Ca.exports=function(){function e(t,r,n,i,s){return t<r||n<r?t>n?n+1:t+1:i===s?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,s-=o,i===0||s<3)return s;var a=0,l,c,u,d,h,p,m,w,g,y,b,M,v=[];for(l=0;l<i;l++)v.push(l+1),v.push(t.charCodeAt(o+l));for(var A=v.length-1;a<s-3;)for(g=r.charCodeAt(o+(c=a)),y=r.charCodeAt(o+(u=a+1)),b=r.charCodeAt(o+(d=a+2)),M=r.charCodeAt(o+(h=a+3)),p=a+=4,l=0;l<A;l+=2)m=v[l],w=v[l+1],c=e(m,c,u,g,w),u=e(c,u,d,y,w),d=e(u,d,h,b,w),p=e(d,h,p,M,w),v[l]=p,h=d,d=u,u=c,c=m;for(;a<s;)for(g=r.charCodeAt(o+(c=a)),p=++a,l=0;l<A;l+=2)m=v[l],v[l]=p=e(m,c,p,g,v[l+1]),c=m;return p}}()});var qa=f((zb,ja)=>{"use strict";ja.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var tr=f((Vb,$a)=>{"use strict";const Dp=qa();$a.exports=e=>typeof e=="string"?e.replace(Dp(),""):e});var Ua=f((Hb,Ba)=>{"use strict";Ba.exports=e=>Object.prototype.toString.call(e)==="[object RegExp]"});var za=f((Wb,Ga)=>{"use strict";Ga.exports=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}});var Va=f(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.default=e=>Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))});var Ha=f(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});var nr="<unknown>";function qp(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=Pp(n)||Lp(n)||Np(n)||jp(n)||Fp(n);return i&&r.push(i),r},[])}var $p=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Bp=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Pp(e){var t=$p.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Bp.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||nr,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Up=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Lp(e){var t=Up.exec(e);return t?{file:t[2],methodName:t[1]||nr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Gp=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,zp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Np(e){var t=Gp.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=zp.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||nr,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var Vp=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Fp(e){var t=Vp.exec(e);return t?{file:t[3],methodName:t[1]||nr,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Hp=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function jp(e){var t=Hp.exec(e);return t?{file:t[2],methodName:t[1]||nr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}Ri.parse=qp});var Xa=f((s0,Ka)=>{"use strict";Ka.exports=e=>{const t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),Infinity):0}});var el=f((o0,Za)=>{"use strict";const Xp=Xa();Za.exports=e=>{const t=Xp(e);if(t===0)return e;const r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}});var Bi=f((A0,al)=>{function lf(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=Mi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=t;function r(u){let d;function h(...p){if(!h.enabled)return;const m=h,w=Number(new Date),g=w-(d||w);m.diff=g,m.prev=d,m.curr=w,d=w,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let y=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(M,v)=>{if(M==="%%")return M;y++;const A=r.formatters[v];if(typeof A=="function"){const k=p[y];M=A.call(m,k),p.splice(y,1),y--}return M}),r.formatArgs.call(m,p);const b=m.log||r.log;b.apply(m,p)}return h.namespace=u,h.enabled=r.enabled(u),h.useColors=r.useColors(),h.color=t(u),h.destroy=n,h.extend=i,typeof r.init=="function"&&r.init(h),r.instances.push(h),h}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,d){const h=r(this.namespace+(typeof d=="undefined"?":":d)+u);return h.log=this.log,h}function s(u){r.save(u),r.names=[],r.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++){if(!h[d])continue;u=h[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(d=0;d<r.instances.length;d++){const m=r.instances[d];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=r.skips.length;d<h;d++)if(r.skips[d].test(u))return!1;for(d=0,h=r.names.length;d<h;d++)if(r.names[d].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}al.exports=lf});var ll=f((fe,rn)=>{fe.log=uf;fe.formatArgs=cf;fe.save=df;fe.load=hf;fe.useColors=pf;fe.storage=ff();fe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function pf(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cf(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+rn.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}function uf(...e){return typeof console=="object"&&console.log&&console.log(...e)}function df(e){try{e?fe.storage.setItem("debug",e):fe.storage.removeItem("debug")}catch(t){}}function hf(){let e;try{e=fe.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function ff(){try{return localStorage}catch(e){}}rn.exports=Bi()(fe);const{formatters:mf}=rn.exports;mf.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var cl=f((W,nn)=>{const gf=require("tty"),Ui=require("util");W.init=yf;W.log=wf;W.formatArgs=bf;W.save=Mf;W.load=vf;W.useColors=Ef;W.colors=[6,2,3,4,5,1];try{const e=Wt();e&&(e.stderr||e).level>=2&&(W.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}W.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Ef(){return"colors"in W.inspectOpts?Boolean(W.inspectOpts.colors):gf.isatty(process.stderr.fd)}function bf(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+nn.exports.humanize(this.diff)+"[0m")}else e[0]=Tf()+t+" "+e[0]}function Tf(){return W.inspectOpts.hideDate?"":new Date().toISOString()+" "}function wf(...e){return process.stderr.write(Ui.format(...e)+`
`)}function Mf(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function vf(){return process.env.DEBUG}function yf(e){e.inspectOpts={};const t=Object.keys(W.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=W.inspectOpts[t[r]]}nn.exports=Bi()(W);const{formatters:ul}=nn.exports;ul.o=function(e){return this.inspectOpts.colors=this.useColors,Ui.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};ul.O=function(e){return this.inspectOpts.colors=this.useColors,Ui.inspect(e,this.inspectOpts)}});var dl=f((x0,Gi)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Gi.exports=ll():Gi.exports=cl()});var lr=f(Ke=>{"use strict";var Af=Ke&&Ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getLogs=void 0;const sn=Af(dl()),on=[],xf=100,hl=[],an=new Map,pl=process.env.DEBUG?process.env.DEBUG+",":"",Df=sn.default.skips.slice(),Cf=sn.default.names.slice();function Sf(e){if(e[e.length-1]==="*")return!0;for(const t of Df)if(t.test(e))return!1;for(const t of Cf)if(t.test(e))return!0;return!1}function zi(e){const t=sn.default(e);hl.push(e),sn.default.enable(pl+hl.join(",")),process.env.DEBUG=pl,Sf(e)&&an.set(e,!0);const r=(n,...i)=>t(n,...i);return r.log=console.error.bind(console),r.color=t.color,r.namespace=t.namespace,r.enabled=t.enabled,r.destroy=t.destroy,r.extend=t.extend,t.log=(...n)=>{on.push(n),on.length>xf&&on.shift(),an.has(e)&&r.log(...n)},r}Ke.default=zi;zi.enable=e=>{an.set(e,!0)};zi.enabled=e=>an.has(e);function If(e=7500){let t=on.map(r=>r.join("  ")).join(`
`);return t.length<e?t:t.slice(-e)}Ke.getLogs=If});var Vi=f(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.convertLog=Tt.isRustError=void 0;function Of(e){return typeof e.is_panic!="undefined"}Tt.isRustError=Of;function _f(e){const t=kf(e.fields),r=t?"query":e.level.toLowerCase();return{...e,level:r,timestamp:new Date(new Date().getFullYear()+" "+e.timestamp)}}Tt.convertLog=_f;function kf(e){return Boolean(e.query)}});var ml=f((S0,Hi)=>{"use strict";const C=Hi.exports;Hi.exports.default=C;const _="[",ur="]",At="\x07",ln=";",fl=process.env.TERM_PROGRAM==="Apple_Terminal";C.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?_+(e+1)+"G":_+(t+1)+";"+(e+1)+"H"};C.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=_+-e+"D":e>0&&(r+=_+e+"C"),t<0?r+=_+-t+"A":t>0&&(r+=_+t+"B"),r};C.cursorUp=(e=1)=>_+e+"A";C.cursorDown=(e=1)=>_+e+"B";C.cursorForward=(e=1)=>_+e+"C";C.cursorBackward=(e=1)=>_+e+"D";C.cursorLeft=_+"G";C.cursorSavePosition=fl?"7":_+"s";C.cursorRestorePosition=fl?"8":_+"u";C.cursorGetPosition=_+"6n";C.cursorNextLine=_+"E";C.cursorPrevLine=_+"F";C.cursorHide=_+"?25l";C.cursorShow=_+"?25h";C.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=C.eraseLine+(r<e-1?C.cursorUp():"");return e&&(t+=C.cursorLeft),t};C.eraseEndLine=_+"K";C.eraseStartLine=_+"1K";C.eraseLine=_+"2K";C.eraseDown=_+"J";C.eraseUp=_+"1J";C.eraseScreen=_+"2J";C.scrollUp=_+"S";C.scrollDown=_+"T";C.clearScreen="c";C.clearTerminal=process.platform==="win32"?`${C.eraseScreen}${_}0f`:`${C.eraseScreen}${_}3J${_}H`;C.beep=At;C.link=(e,t)=>[ur,"8",ln,ln,t,At,e,ur,"8",ln,ln,At].join("");C.image=(e,t={})=>{let r=`${ur}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+At};C.iTerm={setCwd:(e=process.cwd())=>`${ur}50;CurrentDir=${e}${At}`,annotation:(e,t={})=>{let r=`${ur}1337;`;const n=typeof t.x!="undefined",i=typeof t.y!="undefined";if((n||i)&&!(n&&i&&typeof t.length!="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+At}}});var wl=f((I0,gl)=>{"use strict";const Rf=Wt(),xt=pi();function yl(e){if(/^\d{3,4}$/.test(e)){const r=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}const t=(e||"").split(".").map(r=>parseInt(r,10));return{major:t[0],minor:t[1],patch:t[2]}}function Wi(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&parseInt(t.FORCE_HYPERLINK,10)===0);if(xt("no-hyperlink")||xt("no-hyperlinks")||xt("hyperlink=false")||xt("hyperlink=never"))return!1;if(xt("hyperlink=true")||xt("hyperlink=always"))return!0;if(!Rf.supportsColor(e))return!1;if(e&&!e.isTTY)return!1;if(process.platform==="win32")return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const r=yl(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return r.major===3?r.minor>=1:r.major>3}}if("VTE_VERSION"in t){if(t.VTE_VERSION==="0.50.0")return!1;const r=yl(t.VTE_VERSION);return r.major>0||r.minor>=50}return!1}gl.exports={supportsHyperlink:Wi,stdout:Wi(process.stdout),stderr:Wi(process.stderr)}});var Ml=f((O0,cr)=>{"use strict";const Pf=ml(),Ji=wl(),bl=(e,t,{target:r="stdout",...n}={})=>Ji[r]?Pf.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (​${t}​)`;cr.exports=(e,t,r={})=>bl(e,t,r);cr.exports.stderr=(e,t,r={})=>bl(e,t,{target:"stderr",...r});cr.exports.isSupported=Ji.stdout;cr.exports.stderr.isSupported=Ji.stderr});var vl=f((k0,un)=>{"use strict";un.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");const r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(const i of n){let s=e[i];if(s===void 0)continue;if(i==="labels"||i==="projects"){if(!Array.isArray(s))throw new TypeError(`The \`${i}\` option should be an array`);s=s.join(",")}r.searchParams.set(i,s)}return r.toString()};un.exports.default=un.exports});var cn=f(ee=>{"use strict";var Dt=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ee,"__esModule",{value:!0});ee.getRandomString=ee.getGithubIssueUrl=ee.link=ee.fixBinaryTargets=ee.plusX=void 0;const El=Dt(require("fs")),Lf=Dt(Ml()),Nf=Dt(vl()),Ff=Dt(ve()),jf=Dt(lr()),qf=Dt(require("crypto")),Tl=jf.default("plusX");function $f(e){const t=El.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){Tl(`Execution permissions of ${e} are fine`);return}const n=r.toString(8).slice(-3);Tl(`Have to call plusX on ${e}`),El.default.chmodSync(e,n)}ee.plusX=$f;function Bf(e,t){return e=e||[],e.includes("native")?[...e,t]:["native",...e]}ee.fixBinaryTargets=Bf;function Uf(e){return Lf.default(e,e,{fallback:t=>Ff.default.underline(t)})}ee.link=Uf;function Gf({title:e,user:t="prisma",repo:r="prisma-client-js",template:n="bug_report.md",body:i}){return Nf.default({user:t,repo:r,template:n,title:e,body:i})}ee.getGithubIssueUrl=Gf;function zf(){return qf.default.randomBytes(12).toString("hex")}ee.getRandomString=zf});var Yi=f(J=>{"use strict";var Vf=J&&J.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});J.getErrorMessageWithLink=J.PrismaClientInitializationError=J.PrismaClientRustPanicError=J.PrismaClientUnknownRequestError=J.PrismaClientKnownRequestError=J.getMessage=void 0;const Hf=Vi(),Wf=lr(),Al=cn(),xl=Vf(tr());function Jf(e){return typeof e=="string"?e:Hf.isRustError(e)?e.message:e.fields&&e.fields.message?e.fields.reason?`${e.fields.message}: ${e.fields.reason}`:e.fields.message:JSON.stringify(e)}J.getMessage=Jf;class Yf extends Error{constructor(e,t,r,n){super(e);this.code=t,this.clientVersion=r,this.meta=n}}J.PrismaClientKnownRequestError=Yf;class Qf extends Error{constructor(e,t){super(e);this.clientVersion=t}}J.PrismaClientUnknownRequestError=Qf;class Kf extends Error{constructor(e,t){super(e);this.clientVersion=t}}J.PrismaClientRustPanicError=Kf;class Xf extends Error{constructor(e,t){super(e);this.clientVersion=t}}J.PrismaClientInitializationError=Xf;function em({version:e,platform:t,title:r,description:n}){const i=Zf(xl.default(Wf.getLogs())),s=n?`# Description
\`\`\`
${n}
\`\`\``:"",o=xl.default(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version.padEnd(19)}| 
| OS              | ${t.padEnd(19)}|
| Prisma Client   | ${e.padEnd(19)}|

${s}

## Logs
\`\`\`
${i}
\`\`\``),a=Al.getGithubIssueUrl({title:r,body:o});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${Al.link(a)}

If you want the Prisma team to look into it, please open the link above 🙏
`}J.getErrorMessageWithLink=em;function Zf(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}});var Ll=f(Y=>{"use strict";var Dl=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Y,"__esModule",{value:!0});Y.getPlatform=Y.getOpenSSLVersion=Y.parseOpenSSLVersion=Y.resolveDistro=Y.parseDistro=Y.getos=void 0;const tm=Dl(require("os")),Cl=Dl(require("fs")),Sl=require("util"),rm=require("child_process"),nm=Sl.promisify(Cl.default.readFile),Il=Sl.promisify(Cl.default.exists);async function _l(){const e=tm.default.platform();if(e==="freebsd"){const t=await Qi("freebsd-version");if(t&&t.trim().length>0){const r=/^(\d+)\.?/,n=r.exec(t);if(n)return{platform:"freebsd",distro:`freebsd${n[1]}`}}}return e!=="linux"?{platform:e}:{platform:"linux",libssl:await kl(),distro:await Ol()}}Y.getos=_l;function Rl(e){const t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),o=s&&s[1]&&s[1].toLowerCase()||"";return i==="raspbian"?"arm":i==="nixos"?"nixos":o.includes("centos")||o.includes("fedora")||o.includes("rhel")||i==="fedora"?"rhel":o.includes("debian")||o.includes("ubuntu")||i==="debian"?"debian":void 0}Y.parseDistro=Rl;async function Ol(){const e="/etc/os-release",t="/etc/alpine-release";return await Il(t)?"musl":await Il(e)?Rl(await nm(e,"utf-8")):void 0}Y.resolveDistro=Ol;function Pl(e){const t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);return t?t[1]+".x":void 0}Y.parseOpenSSLVersion=Pl;async function kl(){const[e,t]=await Promise.all([Qi("openssl version -v"),Qi(`
      ls -l /lib64 | grep ssl;
      ls -l /usr/lib64 | grep ssl;
    `)]);if(e){const r=Pl(e);if(r)return r}if(t){const r=/libssl\.so\.(\d+\.\d+)\.\d+/.exec(t);if(r)return r[1]+".x"}return}Y.getOpenSSLVersion=kl;async function Qi(e){return new Promise(t=>{try{rm.exec(e,(r,n)=>{t(String(n))})}catch(r){t(void 0);return}})}async function im(){const{platform:e,libssl:t,distro:r}=await _l();return e==="darwin"?"darwin":e==="win32"?"windows":e==="freebsd"?r:e==="openbsd"?"openbsd":e==="netbsd"?"netbsd":e==="linux"&&r==="nixos"?"linux-nixos":e==="linux"&&r==="musl"?"linux-musl":e==="linux"&&r&&t?r+"-openssl-"+t:t?"debian-openssl-"+t:r?r+"-openssl-1.1.x":"debian-openssl-1.1.x"}Y.getPlatform=im});var Ki=f(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.mayBeCompatible=Ct.platforms=void 0;Ct.platforms=["darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"];function sm(e,t){return e.startsWith("freebsd")||t.startsWith("freebsd")?!1:e==="native"||t==="native"?!0:e==="darwin"||t==="darwin"?!1:!(e==="windows"||t==="windows")}Ct.mayBeCompatible=sm});var Fl=f(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.platforms=Ee.mayBeCompatible=Ee.getos=Ee.getPlatform=void 0;var Nl=Ll();Object.defineProperty(Ee,"getPlatform",{enumerable:!0,get:function(){return Nl.getPlatform}});Object.defineProperty(Ee,"getos",{enumerable:!0,get:function(){return Nl.getos}});var om=Ki();Object.defineProperty(Ee,"mayBeCompatible",{enumerable:!0,get:function(){return om.mayBeCompatible}});var am=Ki();Object.defineProperty(Ee,"platforms",{enumerable:!0,get:function(){return am.platforms}})});var Xi=f(Te=>{"use strict";var lm=Te&&Te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.printDatamodelObject=Te.GeneratorConfigClass=Te.printGeneratorConfig=void 0;const um=lm(Gr());function cm(e){return String(new jl(e))}Te.printGeneratorConfig=cm;class jl{constructor(e){this.config=e}toString(){const{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider,binaryTargets:e.binaryTargets||void 0}));return`generator ${e.name} {
${um.default(ql(t),2)}
}`}}Te.GeneratorConfigClass=jl;function ql(e){const t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${dm(n)}`).join(`
`)}Te.printDatamodelObject=ql;function dm(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}});var es=f((dr,dn)=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.createLineStream=void 0;var Zi=require("stream"),hm=require("util");function pm(e,t){return dn.exports.createStream(e,t)}dr.default=pm;dn.exports.createStream=function(e,t){return e?$l(e,t):new Ge(t)};function $l(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");var r=new Ge(t);return e.pipe(r),r}dr.createLineStream=$l;dn.exports.LineStream=Ge;function Ge(e){Zi.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof Zi.Readable&&(this.encoding=t._readableState.encoding)})}hm.inherits(Ge,Zi.Transform);Ge.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;var n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};Ge.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){var n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){var i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};Ge.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};Ge.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var Ul=f((j0,Bl)=>{function me(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}Bl.exports=me;me.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};me.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};me.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0};me.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};me.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};me.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};me.prototype.start=me.prototype.try;me.prototype.errors=function(){return this._errors};me.prototype.attempts=function(){return this._attempts};me.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}});var Gl=f(Xe=>{var fm=Ul();Xe.operation=function(e){var t=Xe.timeouts(e);return new fm(t,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};Xe.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(s,o){return s-o}),n};Xe.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};Xe.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var s=r[i],o=e[s];e[s]=function(l){var c=Xe.operation(t),u=Array.prototype.slice.call(arguments,1),d=u.pop();u.push(function(h){if(c.retry(h))return;h&&(arguments[0]=c.mainError()),d.apply(this,arguments)}),c.attempt(function(){l.apply(e,u)})}.bind(e,o),e[s].options=t}}});var Vl=f(($0,zl)=>{zl.exports=Gl()});var Jl=f((B0,hn)=>{"use strict";const mm=Vl();class Hl extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const gm=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},Wl=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=mm.operation(t);i.attempt(async s=>{try{r(await e(s))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof Hl)i.stop(),n(o.originalError);else if(o instanceof TypeError)i.stop(),n(o);else{gm(o,s,t);try{await t.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}})});hn.exports=Wl;hn.exports.default=Wl;hn.exports.AbortError=Hl});var Ql=f((U0,Yl)=>{"use strict";Yl.exports=e=>{const t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var Zl=f((G0,hr)=>{"use strict";const pr=require("path"),Kl=Zn(),Xl=e=>{e={cwd:process.cwd(),path:process.env[Kl()],execPath:process.execPath,...e};let t,r=pr.resolve(e.cwd);const n=[];for(;t!==r;)n.push(pr.join(r,"node_modules/.bin")),t=r,r=pr.resolve(r,"..");const i=pr.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(pr.delimiter)};hr.exports=Xl;hr.exports.default=Xl;hr.exports.env=e=>{e={env:process.env,...e};const t={...e.env},r=Kl({env:t});return e.path=t[r],t[r]=hr.exports(e),t}});var tu=f((z0,ts)=>{"use strict";const eu=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};ts.exports=eu;ts.exports.default=eu});var nu=f((V0,pn)=>{"use strict";const ym=tu(),fn=new WeakMap,ru=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=!1,i=0;const s=e.displayName||e.name||"<anonymous>",o=function(...a){if(fn.set(o,++i),n){if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r}return n=!0,r=e.apply(this,a),e=null,r};return ym(o,e),fn.set(o,i),o};pn.exports=ru;pn.exports.default=ru;pn.exports.callCount=e=>{if(!fn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return fn.get(e)}});var iu=f(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.SIGNALS=void 0;const wm=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];mn.SIGNALS=wm});var rs=f(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.SIGRTMAX=St.getRealtimeSignals=void 0;const Mm=function(){const e=ou-su+1;return Array.from({length:e},bm)};St.getRealtimeSignals=Mm;const bm=function(e,t){return{name:`SIGRT${t+1}`,number:su+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},su=34,ou=64;St.SIGRTMAX=ou});var au=f(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.getSignals=void 0;var vm=require("os"),Em=iu(),Tm=rs();const xm=function(){const e=(0,Tm.getRealtimeSignals)(),t=[...Em.SIGNALS,...e].map(Am);return t};gn.getSignals=xm;const Am=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:s}){const{signals:{[e]:o}}=vm.constants,a=o!==void 0,l=a?o:t;return{name:e,number:l,description:r,supported:a,action:n,forced:i,standard:s}}});var uu=f(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.signalsByNumber=It.signalsByName=void 0;var Dm=require("os"),lu=au(),Cm=rs();const Im=function(){const e=(0,lu.getSignals)();return e.reduce(Sm,{})},Sm=function(e,{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}}},Om=Im();It.signalsByName=Om;const _m=function(){const e=(0,lu.getSignals)(),t=Cm.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>km(i,e));return Object.assign({},...r)},km=function(e,t){const r=Rm(e,t);if(r===void 0)return{};const{name:n,description:i,supported:s,action:o,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:a,standard:l}}},Rm=function(e,t){const r=t.find(({name:n})=>Dm.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},Pm=_m();It.signalsByNumber=Pm});var du=f((Q0,cu)=>{"use strict";const{signalsByName:Lm}=uu(),Nm=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",Fm=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:s,command:o,timedOut:a,isCanceled:l,killed:c,parsed:{options:{timeout:u}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;const d=i===void 0?void 0:Lm[i].description,h=n&&n.code,p=Nm({timedOut:a,timeout:u,errorCode:h,signal:i,signalDescription:d,exitCode:s,isCanceled:l}),m=`Command ${p}: ${o}`,w=Object.prototype.toString.call(n)==="[object Error]",g=w?`${m}
${n.message}`:m,y=[g,t,e].filter(Boolean).join(`
`);return w?(n.originalMessage=n.message,n.message=y):n=new Error(y),n.shortMessage=g,n.command=o,n.exitCode=s,n.signal=i,n.signalDescription=d,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(a),n.isCanceled=l,n.killed=c&&!a,n};cu.exports=Fm});var pu=f((K0,ns)=>{"use strict";const yn=["stdin","stdout","stderr"],jm=e=>yn.some(t=>e[t]!==void 0),hu=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return yn.map(n=>e[n]);if(jm(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${yn.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,yn.length);return Array.from({length:r},(n,i)=>t[i])};ns.exports=hu;ns.exports.node=e=>{const t=hu(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var fu=f((X0,wn)=>{wn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&wn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&wn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var yu=f((Z0,fr)=>{var qm=require("assert"),mr=fu(),$m=/^win/i.test(process.platform),bn=require("events");typeof bn!="function"&&(bn=bn.EventEmitter);var V;process.__signal_exit_emitter__?V=process.__signal_exit_emitter__:(V=process.__signal_exit_emitter__=new bn,V.count=0,V.emitted={});V.infinite||(V.setMaxListeners(Infinity),V.infinite=!0);fr.exports=function(e,t){qm.equal(typeof e,"function","a callback must be provided for exit handler"),gr===!1&&mu();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){V.removeListener(r,e),V.listeners("exit").length===0&&V.listeners("afterexit").length===0&&is()};return V.on(r,e),n};fr.exports.unload=is;function is(){if(!gr)return;gr=!1,mr.forEach(function(e){try{process.removeListener(e,ss[e])}catch(t){}}),process.emit=os,process.reallyExit=gu,V.count-=1}function Ot(e,t,r){if(V.emitted[e])return;V.emitted[e]=!0,V.emit(e,t,r)}var ss={};mr.forEach(function(e){ss[e]=function(){var r=process.listeners(e);r.length===V.count&&(is(),Ot("exit",null,e),Ot("afterexit",null,e),$m&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});fr.exports.signals=function(){return mr};fr.exports.load=mu;var gr=!1;function mu(){if(gr)return;gr=!0,V.count+=1,mr=mr.filter(function(e){try{return process.on(e,ss[e]),!0}catch(t){return!1}}),process.emit=Um,process.reallyExit=Bm}var gu=process.reallyExit;function Bm(e){process.exitCode=e||0,Ot("exit",process.exitCode,null),Ot("afterexit",process.exitCode,null),gu.call(process,process.exitCode)}var os=process.emit;function Um(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var r=os.apply(this,arguments);return Ot("exit",process.exitCode,null),Ot("afterexit",process.exitCode,null),r}else return os.apply(this,arguments)}});var bu=f((eM,wu)=>{"use strict";const Gm=require("os"),zm=yu(),Vm=1e3*5,Wm=(e,t="SIGTERM",r={})=>{const n=e(t);return Hm(e,t,r,n),n},Hm=(e,t,r,n)=>{if(!Jm(t,r,n))return;const i=Ym(r),s=setTimeout(()=>{e("SIGKILL")},i);s.unref&&s.unref()},Jm=(e,{forceKillAfterTimeout:t},r)=>Qm(e)&&t!==!1&&r,Qm=e=>e===Gm.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",Ym=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Vm;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Km=(e,t)=>{const r=e.kill();r&&(t.isCanceled=!0)},Xm=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Zm=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const s=new Promise((a,l)=>{i=setTimeout(()=>{Xm(e,r,l)},t)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},eg=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=zm(()=>{e.kill()});return n.finally(()=>{i()})};wu.exports={spawnedKill:Wm,spawnedCancel:Km,setupTimeout:Zm,setExitHandler:eg}});var vu=f((tM,Mu)=>{"use strict";const Ae=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Ae.writable=e=>Ae(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";Ae.readable=e=>Ae(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";Ae.duplex=e=>Ae.writable(e)&&Ae.readable(e);Ae.transform=e=>Ae.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";Mu.exports=Ae});var Au=f((rM,Eu)=>{Eu.exports=Tu;function Tu(e,t){if(e&&t)return Tu(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var ls=f((nM,as)=>{var xu=Au();as.exports=xu(Mn);as.exports.strict=xu(Du);Mn.proto=Mn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Mn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Du(this)},configurable:!0})});function Mn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Du(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Iu=f((iM,Cu)=>{var tg=ls(),rg=function(){},ng=function(e){return e.setHeader&&typeof e.abort=="function"},ig=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Su=function(e,t,r){if(typeof t=="function")return Su(e,null,t);t||(t={}),r=tg(r||rg);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,l=function(){e.writable||c()},c=function(){o=!1,s||r.call(e)},u=function(){s=!1,o||r.call(e)},d=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},h=function(g){r.call(e,g)},p=function(){process.nextTick(m)},m=function(){if(a)return;if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))},w=function(){e.req.on("finish",c)};return ng(e)?(e.on("complete",c),e.on("abort",p),e.req?w():e.on("request",w)):o&&!n&&(e.on("end",l),e.on("close",l)),ig(e)&&e.on("exit",d),e.on("end",u),e.on("finish",c),t.error!==!1&&e.on("error",h),e.on("close",p),function(){a=!0,e.removeListener("complete",c),e.removeListener("abort",p),e.removeListener("request",w),e.req&&e.req.removeListener("finish",c),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("exit",d),e.removeListener("end",u),e.removeListener("error",h),e.removeListener("close",p)}};Cu.exports=Su});var _u=f((sM,Ou)=>{var sg=ls(),og=Iu(),us=require("fs"),yr=function(){},ag=/^v?\.0/.test(process.version),vn=function(e){return typeof e=="function"},lg=function(e){return ag&&us?(e instanceof(us.ReadStream||yr)||e instanceof(us.WriteStream||yr))&&vn(e.close):!1},ug=function(e){return e.setHeader&&vn(e.abort)},cg=function(e,t,r,n){n=sg(n);var i=!1;e.on("close",function(){i=!0}),og(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(i)return;if(s)return;if(s=!0,lg(e))return e.close(yr);if(ug(e))return e.abort();if(vn(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}},ku=function(e){e()},dg=function(e,t){return e.pipe(t)},hg=function(){var e=Array.prototype.slice.call(arguments),t=vn(e[e.length-1]||yr)&&e.pop()||yr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,a=s>0;return cg(i,o,a,function(l){if(r||(r=l),l&&n.forEach(ku),o)return;n.forEach(ku),t(r)})});return e.reduce(dg)};Ou.exports=hg});var Pu=f((oM,Ru)=>{"use strict";const{PassThrough:pg}=require("stream");Ru.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new pg({objectMode:i});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Nu=f((aM,kt)=>{"use strict";const fg=_u(),mg=Pu();class Lu extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function En(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let n;return await new Promise((i,s)=>{const o=a=>{a&&(a.bufferedData=n.getBufferedValue()),s(a)};n=fg(e,mg(t),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new Lu)})}),n.getBufferedValue()}kt.exports=En;kt.exports.default=En;kt.exports.buffer=(e,t)=>En(e,{...t,encoding:"buffer"});kt.exports.array=(e,t)=>En(e,{...t,array:!0});kt.exports.MaxBufferError=Lu});var ju=f((lM,Fu)=>{"use strict";const{PassThrough:gg}=require("stream");Fu.exports=function(){var e=[],t=new gg({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(s){return Array.isArray(s)?(s.forEach(r),this):(e.push(s),s.once("end",i.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(s){e=e.filter(function(o){return o!==s}),!e.length&&t.readable&&t.end()}}});var Uu=f((uM,qu)=>{"use strict";const $u=vu(),Bu=Nu(),yg=ju(),wg=(e,t)=>{if(t===void 0||e.stdin===void 0)return;$u(t)?t.pipe(e.stdin):e.stdin.end(t)},bg=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=yg();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},cs=async(e,t)=>{if(!e)return;e.destroy();try{return await t}catch(r){return r.bufferedData}},ds=(e,{encoding:t,buffer:r,maxBuffer:n})=>!e||!r?void 0:t?Bu(e,{encoding:t,maxBuffer:n}):Bu.buffer(e,{maxBuffer:n}),Mg=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{const a=ds(e,{encoding:n,buffer:i,maxBuffer:s}),l=ds(t,{encoding:n,buffer:i,maxBuffer:s}),c=ds(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,l,c])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},cs(e,a),cs(t,l),cs(r,c)])}},vg=({input:e})=>{if($u(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};qu.exports={handleInput:wg,makeAllStream:bg,getSpawnedResult:Mg,validateInputSync:vg}});var zu=f((cM,Gu)=>{"use strict";const Eg=(async()=>{})().constructor.prototype,Tg=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Eg,e)]),Ag=(e,t)=>{for(const[r,n]of Tg){const i=typeof t=="function"?(...s)=>Reflect.apply(n.value,t(),s):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},xg=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});Gu.exports={mergePromise:Ag,getSpawnedPromise:xg}});var Hu=f((dM,Vu)=>{"use strict";const Dg=/ +/g,Cg=(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,Sg=(e,t,r)=>{if(r===0)return[t];const n=e[e.length-1];return n.endsWith("\\")?[...e.slice(0,-1),`${n.slice(0,-1)} ${t}`]:[...e,t]},Ig=e=>e.trim().split(Dg).reduce(Sg,[]);Vu.exports={joinCommand:Cg,parseCommand:Ig}});var Zu=f((hM,_t)=>{"use strict";const Og=require("path"),hs=require("child_process"),Wu=ai(),kg=Ql(),_g=Zl(),Rg=nu(),Tn=du(),Ju=pu(),{spawnedKill:Pg,spawnedCancel:Lg,setupTimeout:Ng,setExitHandler:Fg}=bu(),{handleInput:jg,getSpawnedResult:qg,makeAllStream:$g,validateInputSync:Bg}=Uu(),{mergePromise:Yu,getSpawnedPromise:Ug}=zu(),{joinCommand:Qu,parseCommand:Ku}=Hu(),Gg=1e3*1e3*100,zg=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const s=t?{...process.env,...e}:e;return r?_g.env({env:s,cwd:n,execPath:i}):s},Xu=(e,t,r={})=>{const n=Wu._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Gg,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=zg(r),r.stdio=Ju(r),process.platform==="win32"&&Og.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},wr=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?kg(t):t,An=(e,t,r)=>{const n=Xu(e,t,r),i=Qu(e,t);let s;try{s=hs.spawn(n.file,n.args,n.options)}catch(h){const p=new hs.ChildProcess,m=Promise.reject(Tn({error:h,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Yu(p,m)}const o=Ug(s),a=Ng(s,n.options,o),l=Fg(s,n.options,a),c={isCanceled:!1};s.kill=Pg.bind(null,s.kill.bind(s)),s.cancel=Lg.bind(null,s,c);const u=async()=>{const[{error:h,exitCode:p,signal:m,timedOut:w},g,y,b]=await qg(s,n.options,l),M=wr(n.options,g),v=wr(n.options,y),A=wr(n.options,b);if(h||p!==0||m!==null){const k=Tn({error:h,exitCode:p,signal:m,stdout:M,stderr:v,all:A,command:i,parsed:n,timedOut:w,isCanceled:c.isCanceled,killed:s.killed});if(!n.options.reject)return k;throw k}return{command:i,exitCode:0,stdout:M,stderr:v,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},d=Rg(u);return Wu._enoent.hookChildProcess(s,n.parsed),jg(s,n.options.input),s.all=$g(s,n.options),Yu(s,d)};_t.exports=An;_t.exports.sync=(e,t,r)=>{const n=Xu(e,t,r),i=Qu(e,t);Bg(n.options);let s;try{s=hs.spawnSync(n.file,n.args,n.options)}catch(l){throw Tn({error:l,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const o=wr(n.options,s.stdout,s.error),a=wr(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){const l=Tn({stdout:o,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return l;throw l}return{command:i,exitCode:0,stdout:o,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};_t.exports.command=(e,t)=>{const[r,...n]=Ku(e);return An(r,n,t)};_t.exports.commandSync=(e,t)=>{const[r,...n]=Ku(e);return An.sync(r,n,t)};_t.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);const n=Ju.node(r),{nodePath:i=process.execPath,nodeOptions:s=process.execArgv}=r;return An(i,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var ec=f(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.omit=void 0;function Vg(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}xn.omit=Vg});var rc=f((fM,tc)=>{"use strict";const{PassThrough:Hg}=require("stream");tc.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new Hg({objectMode:i});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var ic=f((mM,br)=>{"use strict";const{constants:Wg}=require("buffer"),Jg=require("stream"),{promisify:Yg}=require("util"),Qg=rc(),Kg=Yg(Jg.pipeline);class nc extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function ps(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t,n=Qg(t);return await new Promise((i,s)=>{const o=a=>{a&&n.getBufferedLength()<=Wg.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};(async()=>{try{await Kg(e,n),i()}catch(a){o(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new nc)})}),n.getBufferedValue()}br.exports=ps;br.exports.buffer=(e,t)=>ps(e,{...t,encoding:"buffer"});br.exports.array=(e,t)=>ps(e,{...t,array:!0});br.exports.MaxBufferError=nc});var oc=f((gM,sc)=>{"use strict";const{HTTPParser:Xg}=process.binding("http_parser");sc.exports=Xg});var fs=f((yM,ac)=>{ac.exports={kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kResume:Symbol("resume"),kPause:Symbol("pause"),kSocketTimeout:Symbol("socket timeout"),kIdleTimeout:Symbol("idle timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeout:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kTLSServerName:Symbol("server name"),kHost:Symbol("host"),kTLSOpts:Symbol("TLS Options"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol("destroyed"),kMaxHeadersSize:Symbol("max headers size"),kHeadersTimeout:Symbol("headers timeout"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelinig"),kRetryDelay:Symbol("retry delay"),kSocketPath:Symbol("socket path"),kSocket:Symbol("socket"),kRetryTimeout:Symbol("retry timeout"),kTLSSession:Symbol("tls session cache")}});var ze=f((wM,lc)=>{"use strict";const Zg=require("assert"),{kDestroyed:uc}=fs(),{IncomingMessage:ey}=require("http"),ty=require("util");function ry(){}function cc(e){return!!(e&&typeof e.on=="function")}function ny(e){if(e&&typeof e.on=="function"){const t=e._readableState;return t&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}return Zg(!e||Number.isFinite(e.byteLength)),e?e.length:0}function dc(e){return!e||!!(e.destroyed||e[uc])}function iy(e,t){if(!cc(e)||dc(e))return;typeof e.destroy=="function"?(t||Object.getPrototypeOf(e).constructor!==ey)&&e.destroy(t):t&&process.nextTick((r,n)=>{r.emit("error",n)},e,t),e.destroyed!==!0&&(e[uc]=!0)}const sy=/timeout=(\d+)s/;function oy(e){const t=e.match(sy);return t?parseInt(t[1])*1e3:null}function ay(e){const t={};for(var r=0;r<e.length;r+=2){var n=e[r].toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1])):t[n]=e[r+1]}return t}function ly(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}function uy(e,t){const r=ty.getSystemErrorName(e),n=new Error(`${t} ${r}`);return n.errno=n,n.code=e,n.syscall=t,n}lc.exports={nop:ry,errnoException:uy,isStream:cc,isDestroyed:dc,parseHeaders:ay,parseKeepAliveTimeout:oy,destroy:iy,bodyLength:ny,isBuffer:ly}});var be=f((bM,hc)=>{"use strict";class te extends Error{constructor(e){super(e);this.name="UndiciError",this.code="UND_ERR"}}class pc extends te{constructor(e){super(e);Error.captureStackTrace(this,pc),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class fc extends te{constructor(e){super(e);Error.captureStackTrace(this,fc),this.name="SocketTimeoutError",this.message=e||"Socket Timeout Error",this.code="UND_ERR_SOCKET_TIMEOUT"}}class mc extends te{constructor(e){super(e);Error.captureStackTrace(this,mc),this.name="RequestTimeoutError",this.message=e||"Request Timeout Error",this.code="UND_ERR_REQUEST_TIMEOUT"}}class gc extends te{constructor(e){super(e);Error.captureStackTrace(this,gc),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class yc extends te{constructor(e){super(e);Error.captureStackTrace(this,yc),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class wc extends te{constructor(e){super(e);Error.captureStackTrace(this,wc),this.name="RequestAbortedError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class bc extends te{constructor(e){super(e);Error.captureStackTrace(this,bc),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class Mc extends te{constructor(e){super(e);Error.captureStackTrace(this,Mc),this.name="ContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_CONTENT_LENGTH_MISMATCH"}}class vc extends te{constructor(e){super(e);Error.captureStackTrace(this,vc),this.name="TrailerMismatchError",this.message=e||"Trailers does not match trailer header",this.code="UND_ERR_TRAILER_MISMATCH"}}class Ec extends te{constructor(e){super(e);Error.captureStackTrace(this,Ec),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class Tc extends te{constructor(e){super(e);Error.captureStackTrace(this,Tc),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class Ac extends te{constructor(e){super(e);Error.captureStackTrace(this,Ac),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET"}}class xc extends te{constructor(e){super(e);Error.captureStackTrace(this,xc),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}hc.exports={UndiciError:te,SocketTimeoutError:fc,HeadersTimeoutError:pc,RequestTimeoutError:mc,ContentLengthMismatchError:Mc,TrailerMismatchError:vc,InvalidArgumentError:gc,InvalidReturnValueError:yc,RequestAbortedError:wc,ClientDestroyedError:Ec,ClientClosedError:Tc,InformationalError:bc,SocketError:Ac,NotSupportedError:xc}});var Ic=f((MM,Dc)=>{"use strict";const{InvalidArgumentError:ae,RequestAbortedError:cy,RequestTimeoutError:dy,NotSupportedError:hy}=be(),Cc=ze(),Mr=require("assert"),ms=Symbol("request timeout"),Rt=Symbol("timeout"),Ze=Symbol("handler");class py{constructor({path:e,method:t,body:r,headers:n,idempotent:i,upgrade:s,requestTimeout:o},a){if(typeof e!="string"||e[0]!=="/")throw new ae("path must be a valid path");if(typeof t!="string")throw new ae("method must be a string");if(s&&typeof s!="string")throw new ae("upgrade must be a string");if(o!=null&&(!Number.isInteger(o)||o<0))throw new ae("requestTimeout must be a positive integer or zero");if(this.method=t,r==null)this.body=null;else if(Cc.isStream(r))this.body=r;else if(Cc.isBuffer(r))this.body=r.length?r:null;else if(typeof r=="string")this.body=r.length?Buffer.from(r):null;else throw new ae("body must be a string, a Buffer or a Readable stream");if(this.aborted=!1,this.upgrade=s,this.path=e,this.idempotent=i==null?t==="HEAD"||t==="GET":i,this.host=null,this.contentLength=null,this.headers="",Array.isArray(n)){if(n.length%2!==0)throw new ae("headers array must be even");for(let l=0;l<n.length;l+=2)Sc(this,n[l],n[l+1])}else if(n&&typeof n=="object")for(const[l,c]of Object.entries(n))Sc(this,l,c);else if(n!=null)throw new ae("headers must be an object or an array");this[ms]=o!=null?o:3e4,this[Rt]=null,this[Ze]=a}onConnect(e){Mr(!this.aborted);const t=r=>{this.aborted||(this.onError(r||new cy),e())};this[ms]&&(this[Rt]&&clearTimeout(this[Rt]),this[Rt]=setTimeout(r=>{r(new dy)},this[ms],t)),this[Ze].onConnect(t)}onHeaders(e,t,r){Mr(!this.aborted),Dn(this),this[Ze].onHeaders(e,t,r)}onBody(e,t,r){return Mr(!this.aborted),this[Ze].onData(e.slice(t,t+r))}onUpgrade(e,t,r){Mr(!this.aborted),Dn(this),this[Ze].onUpgrade(e,t,r)}onComplete(e){Mr(!this.aborted),Dn(this),this[Ze].onComplete(e)}onError(e){if(this.aborted)return;this.aborted=!0,Dn(this),this[Ze].onError(e)}}function Sc(e,t,r){if(typeof r=="object")throw new ae(`invalid ${t} header`);if(r===void 0)return;if(e.host===null&&t.length===4&&t.toLowerCase()==="host")e.host=r,e.headers+=`${t}: ${r}\r
`;else if(e.contentLength===null&&t.length===14&&t.toLowerCase()==="content-length"){if(e.contentLength=parseInt(r),!Number.isFinite(e.contentLength))throw new ae("invalid content-length header")}else{if(t.length===17&&t.toLowerCase()==="transfer-encoding")throw new ae("invalid transfer-encoding header");if(t.length===10&&t.toLowerCase()==="connection")throw new ae("invalid connection header");if(t.length===10&&t.toLowerCase()==="keep-alive")throw new ae("invalid keep-alive header");if(t.length===7&&t.toLowerCase()==="upgrade")throw new ae("invalid upgrade header");if(t.length===6&&t.toLowerCase()==="expect")throw new hy("expect header not supported");e.headers+=`${t}: ${r}\r
`}}function Dn(e){const{[Rt]:t}=e;t&&(e[Rt]=null,clearTimeout(t))}Dc.exports=py});var xs=f((vM,Oc)=>{"use strict";const{URL:fy}=require("url"),gs=require("net"),kc=require("tls"),xe=oc(),my=require("events"),O=require("assert"),S=ze(),gy=Ic(),{ContentLengthMismatchError:ys,SocketTimeoutError:yy,TrailerMismatchError:_c,InvalidArgumentError:K,RequestAbortedError:wy,ClientDestroyedError:ws,ClientClosedError:by,HeadersTimeoutError:My,SocketError:Cn,InformationalError:vr}=be(),{kUrl:Sn,kReset:Me,kPause:bs,kHost:In,kResume:Pt,kClient:Lt,kParser:Ms,kConnect:vy,kResuming:et,kWriting:Ve,kQueue:$,kNeedDrain:Er,kTLSServerName:On,kIdleTimeout:kn,kSocketTimeout:vs,kTLSOpts:_n,kClosed:Nt,kDestroyed:He,kPendingIdx:le,kRunningIdx:B,kError:Rn,kOnDestroyed:tt,kPipelining:Pn,kRetryDelay:rt,kRetryTimeout:We,kSocket:F,kSocketPath:Tr,kKeepAliveTimeout:Ln,kMaxHeadersSize:Rc,kHeadersTimeout:Es,kKeepAliveMaxTimeout:Pc,kKeepAliveTimeoutThreshold:Lc,kKeepAlive:Nn,kTLSSession:Ar}=fs(),Nc=Symbol("host header"),Ts=parseInt(process.version.split(".")[0].slice(1)),Ey=process.execArgv.includes("--insecure-http-parser");class Ty extends my{constructor(e,{maxHeaderSize:t,headersTimeout:r,socketTimeout:n,idleTimeout:i,maxKeepAliveTimeout:s,keepAlive:o,keepAliveMaxTimeout:a=s,keepAliveTimeoutThreshold:l,socketPath:c,pipelining:u,tls:d}={}){super();if(typeof e=="string"&&(e=new fy(e)),!e||typeof e!="object")throw new K("invalid url");if(e.port!=null&&e.port!==""&&!Number.isFinite(parseInt(e.port)))throw new K("invalid port");if(c!=null&&typeof c!="string")throw new K("invalid socketPath");if(e.hostname!=null&&typeof e.hostname!="string")throw new K("invalid hostname");if(!/https?/.test(e.protocol))throw new K("invalid protocol");if(/\/.+/.test(e.pathname)||e.search||e.hash)throw new K("invalid url");if(t!=null&&!Number.isFinite(t))throw new K("invalid maxHeaderSize");if(n!=null&&!Number.isFinite(n))throw new K("invalid socketTimeout");if(i!=null&&(!Number.isFinite(i)||i<=0))throw new K("invalid idleTimeout");if(a!=null&&(!Number.isFinite(a)||a<=0))throw new K("invalid keepAliveMaxTimeout");if(o!=null&&typeof o!="boolean")throw new K("invalid keepAlive");if(l!=null&&!Number.isFinite(l))throw new K("invalid keepAliveTimeoutThreshold");if(r!=null&&!Number.isFinite(r))throw new K("invalid headersTimeout");this[F]=null,this[Me]=!1,this[Pn]=u||1,this[Rc]=t||16384,this[Es]=r==null?3e4:r,this[Sn]=e,this[Tr]=c,this[vs]=n==null?3e4:n,this[kn]=i==null?4e3:i,this[Pc]=a==null?6e5:a,this[Lc]=l==null?1e3:l,this[Ln]=this[kn],this[Nn]=o==null?!0:o,this[Nt]=!1,this[He]=!1,this[On]=d&&d.servername||null,this[In]=null,this[_n]=d,this[rt]=0,this[We]=null,this[tt]=[],this[Ve]=!1,this[et]=0,this[Er]=0,this[Pt]=()=>{this[et]===0&&De(this,!0)},this[Ar]=null,this[Nc]=`host: ${this[Sn].hostname}\r
`,this[$]=[],this[B]=0,this[le]=0}get pipelining(){return this[Pn]}set pipelining(e){this[Pn]=e,De(this,!0)}get connected(){return this[F]&&this[F].connecting!==!0&&(this[F].authorized!==!1||this[F].authorizationError)&&!this[F].destroyed}get pending(){return this[$].length-this[le]}get running(){return this[le]-this[B]}get size(){return this[$].length-this[B]}get busy(){return this[Me]||this[Ve]||this.pending>0}get destroyed(){return this[He]}get closed(){return this[Nt]}[vy](e){As(this),this.once("connect",e)}dispatch(e,t){try{const r=new gy(e,t);if(this[He])throw new ws;if(this[Nt])throw new by;this[$].push(r),this[et]||(S.isStream(r.body)?(this[et]=1,process.nextTick(De,this)):De(this,!0))}catch(r){t.onError(r)}}close(e){if(e===void 0)return new Promise((t,r)=>{this.close((n,i)=>n?r(n):t(i))});if(typeof e!="function")throw new K("invalid callback");if(this[He]){process.nextTick(e,new ws,null);return}this[Nt]=!0,this.size?this[tt].push(e):this.destroy(e)}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((n,i)=>{this.destroy(e,(s,o)=>s?i(s):n(o))});if(typeof t!="function")throw new K("invalid callback");if(this[He]){this[tt]?this[tt].push(t):process.nextTick(t,null,null);return}e||(e=new ws);for(const n of this[$].splice(this[le]))n.onError(e);clearTimeout(this[We]),this[We]=null,this[Nt]=!0,this[He]=!0,this[tt].push(t);const r=()=>{const n=this[tt];this[tt]=null;for(const i of n)i(null,null)};this[F]?S.destroy(this[F].on("close",r),e):process.nextTick(r),De(this)}}class xy extends xe{constructor(e,t){if(Ts===12){super();this.initialize(xe.RESPONSE,{},e[Es])}else if(Ts>12){super();this.initialize(xe.RESPONSE,{},e[Rc],Ey,e[Es])}else super(xe.RESPONSE,!1);this.client=e,this.socket=t,this.statusCode=null,this.upgrade=!1,this.headers=null,this.shouldKeepAlive=!1,this.read=0,this.request=null}[xe.kOnTimeout](){this.statusCode?this.socket._unrefTimer():S.destroy(this.socket,new My)}[xe.kOnHeaders](e){this.headers?Array.prototype.push.apply(this.headers,e):this.headers=e}[xe.kOnExecute](e){const{upgrade:t,socket:r}=this;if(!Number.isFinite(e)){O(e instanceof Error),S.destroy(r,e);return}if(r._unrefTimer(),t&&!r.destroyed){const{client:n,headers:i,statusCode:s,request:o}=this;O(!r.destroyed),O(r===n[F]),O(!r.isPaused()),O(o.upgrade||o.method==="CONNECT"),this.headers=null,this.statusCode=null,this.request=null,r._readableState.flowing=null,r.unshift(this.getCurrentBuffer().slice(e));try{o.onUpgrade(s,i,r)}catch(a){S.destroy(r,a),o.onError(a)}!r.destroyed&&!o.aborted&&(Ay(r),n[F]=null,n[$][n[B]++]=null,n.emit("disconnect",new vr("upgrade")),setImmediate(()=>this.close()),De(n))}}[xe.kOnHeadersComplete](e,t,r,n,i,s,o,a,l){const{client:c,socket:u}=this,d=c[$][c[B]];if(u.destroyed)return;if(O(!this.upgrade),O(this.statusCode<200),s===100)return S.destroy(u,new Cn("bad response")),1;if(a!==Boolean(d.upgrade))return S.destroy(u,new Cn("bad upgrade")),1;if(this.headers?Array.prototype.push.apply(this.headers,r):this.headers=r,this.statusCode=s,this.shouldKeepAlive=l,this.request=d,a||d.method==="CONNECT")return this.unconsume(),this.upgrade=!0,2;let h,p;for(let w=0;w<this.headers.length;w+=2){const g=this.headers[w+0],y=this.headers[w+1];!h&&g.length===10&&g.toLowerCase()==="keep-alive"?h=y:!p&&g.length===7&&g.toLowerCase()==="trailer"&&(p=y)}const{headers:m}=this;if(this.headers=null,this.trailers=p?p.toLowerCase().split(/,\s*/):null,l&&c[Nn]){const w=h?S.parseKeepAliveTimeout(h):null;if(w!=null){const g=Math.min(w-c[Lc],c[Pc]);g<1e3?c[Me]=!0:c[Ln]=g}else c[Ln]=c[kn]}else c[Me]=!0;try{d.onHeaders(s,m,s<200?null:u[Pt])}catch(w){return S.destroy(u,w),1}return d.method==="HEAD"||s<200?1:0}[xe.kOnBody](e,t,r){const{socket:n,statusCode:i,request:s}=this;if(n.destroyed)return;O(i>=200);try{s.onBody(e,t,r)===!1&&n[bs]()}catch(o){S.destroy(n,o)}}[xe.kOnMessageComplete](){const{client:e,socket:t,statusCode:r,headers:n,upgrade:i,request:s,trailers:o}=this;if(t.destroyed)return;if(O(r>=100),i){O(r<300||s.method==="CONNECT");return}if(this.statusCode=null,this.headers=null,this.request=null,this.trailers=null,r<200){O(!t.isPaused());return}try{if(o){if(!n)throw new _c;for(const a of o){let l=!1;for(let c=0;c<n.length;c+=2){const u=n[c+0];if(u.length===a.length&&u.toLowerCase()===a.toLowerCase()){l=!0;break}}if(!l)throw new _c}}s.onComplete(n)}catch(a){S.destroy(t,a);return}e[$][e[B]++]=null,e[Ve]?S.destroy(t,new vr("reset")):this.shouldKeepAlive?e[Me]&&!e.running?S.destroy(t,new vr("reset")):(t[Pt](),De(e)):S.destroy(t,new vr("reset"))}}function Dy(){const{[Lt]:e}=this;O(!this.destroyed),O(!e[Ve]),O(!e[We]),e[Me]=!1,e[rt]=0,e.emit("connect"),De(e)}function Fc(){S.destroy(this,new yy)}function jc(e){const{[Lt]:t}=this;if(this[Rn]=e,e.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(O(!t.running);t.pending&&t[$][t[le]].host===t[In];)t[$][t[le]++].onError(e);else if(!t.running&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){O(t[le]===t[B]);for(const r of t[$].splice(t[B]))r.onError(e)}}function qc(){S.destroy(this,new Cn("other side closed"))}function $c(){const{[Lt]:e,[Ms]:t}=this,r=this[Rn]||new Cn("closed");if(e[F]=null,t.unconsume(),setImmediate(()=>t.close()),r.code!=="UND_ERR_INFO"&&(e[Ar]=null),e[He]){O(!e.pending);for(const n of e[$].splice(e[B]))n.onError(r);e[le]=e[B]}else e.running&&r.code!=="UND_ERR_INFO"&&(e[$][e[B]].onError(r),e[$][e[B]++]=null),e[le]=e[B],e.emit("disconnect",r);De(e)}function Bc(e){const{[Lt]:t}=this;t[Ar]=e}function Ay(e){e[bs]=null,e[Pt]=null,e[Lt]=null,e[Ms]=null,e[Rn]=null,e.removeListener("timeout",Fc).removeListener("session",Bc).removeListener("error",jc).removeListener("end",qc).removeListener("close",$c)}function As(e){O(!e[F]),O(!e[We]);const{protocol:t,port:r,hostname:n}=e[Sn];let i;if(t==="https:"){const o={...e[_n],servername:e[On],session:e[Ar]};i=e[Tr]?kc.connect(e[Tr],o):kc.connect(r||443,n,o),i.on("session",Bc)}else i=e[Tr]?gs.connect(e[Tr]):gs.connect(r||80,n);e[F]=i;const s=new xy(e,i);Ts>=12?(O(i._handle),s.consume(i._handle)):(O(i._handle&&i._handle._externalStream),s.consume(i._handle._externalStream)),i[bs]=Cy.bind(i),i[Pt]=Sy.bind(i),i[Rn]=null,i[Ms]=s,i[Lt]=e,i.setNoDelay(!0).setTimeout(e[kn]).on(t==="https:"?"secureConnect":"connect",Dy).on("timeout",Fc).on("error",jc).on("end",qc).on("close",$c)}function Cy(){if(this._handle&&this._handle.reading){this._handle.reading=!1;const e=this._handle.readStop();e&&this.destroy(S.errnoException(e,"read"))}}function Sy(){if(this._handle&&!this._handle.reading){this._handle.reading=!0;const e=this._handle.readStart();e&&this.destroy(S.errnoException(e,"read"))}}function Uc(e){e[Er]=0,e.emit("drain")}function De(e,t){if(e[et]===2)return;e[et]=2,Iy(e,t),e[et]=0,e[B]>256&&(e[$].splice(0,e[B]),e[le]-=e[B],e[B]=0)}function Iy(e,t){for(;;){if(e[He]){O(!e.pending);return}if(e[Nt]&&!e.size){e.destroy(S.nop);continue}if(e[F]){const n=e.running?e[vs]:e[Ln];e[F].timeout!==n&&e[F].setTimeout(n)}if(e.running){const{aborted:n}=e[$][e[B]];if(n){S.destroy(e[F]);return}}if(e.pending)e[Er]=2;else{if(e[Er]===2&&!e.busy){t?(e[Er]=1,process.nextTick(Uc,e)):Uc(e);continue}return}if(e.running>=e[Pn])return;const r=e[$][e[le]];if(e[Sn].protocol==="https:"&&e[In]!==r.host){if(e.running)return;e[In]=r.host;const n=r.host&&!/^\[/.test(r.host)&&!gs.isIP(r.host)?r.host:e[_n]&&e[_n].servername;if(e[On]!==n&&(e[On]=n,e[Ar]=null,e[F])){S.destroy(e[F],new vr("servername changed"));return}}if(!e[F]&&!e[We]){e[rt]?(e[We]=setTimeout(()=>{e[We]=null,As(e)},e[rt]),e[rt]=Math.min(e[rt]*2,e[vs])):(As(e),e[rt]=1e3);return}if(!e.connected)return;if(e[Ve]||e[Me])return;if(e.running&&!e[Nn])return;if(e.running&&!r.idempotent)return;if(e.running&&(r.upgrade||r.method==="CONNECT"))return;if(S.isStream(r.body)&&S.bodyLength(r.body)===0&&(r.body.on("data",function(){O(!1)}).on("error",function(n){r.onError(n)}).on("end",function(){S.destroy(this)}),r.body=null),e.running&&S.isStream(r.body))return;Oy(e,r)?e[le]++:e[$].splice(e[le],1)}}function Oy(e,t){const{body:r,method:n,path:i,host:s,upgrade:o,headers:a}=t,l=n==="PUT"||n==="POST"||n==="PATCH";r&&typeof r.read=="function"&&r.read(0);let c=S.bodyLength(r);if(c===null&&(c=t.contentLength),c===0&&!l&&(c=null),t.contentLength!==null&&t.contentLength!==c)return t.onError(new ys),!1;try{t.onConnect(e[Pt])}catch(h){return t.onError(h),!1}if(t.aborted)return!1;n==="HEAD"&&(e[Me]=!0),(n==="CONNECT"||o)&&(e[Me]=!0);let u;o?u=`${n} ${i} HTTP/1.1\r
connection: upgrade\r
upgrade: ${o}\r
`:e[Nn]?u=`${n} ${i} HTTP/1.1\r
connection: keep-alive\r
`:u=`${n} ${i} HTTP/1.1\r
connection: close\r
`,s||(u+=e[Nc]),a&&(u+=a);const d=e[F];if(!r)c===0?d.write(`${u}content-length: ${c}\r
\r
\r
`,"ascii"):(O(c===null,"no body must not have content length"),d.write(`${u}\r
`,"ascii"));else if(S.isBuffer(r))O(c!==null,"buffer body must have content length"),d.cork(),d.write(`${u}content-length: ${c}\r
\r
`,"ascii"),d.write(r),d.write(`\r
`,"ascii"),d.uncork(),l||(e[Me]=!0),t.body=null;else{e[Ve]=!0,O(S.isStream(r)),O(c!==0||!e.running,"stream body cannot be pipelined");let h=!1,p=0;const m=function(b){try{O(!h);const M=Buffer.byteLength(b);if(!M)return;if(c!==null&&p+M>c){S.destroy(d,new ys);return}p===0&&(l||(e[Me]=!0),c===null?d.write(`${u}transfer-encoding: chunked\r
`,"ascii"):d.write(`${u}content-length: ${c}\r
\r
`,"ascii")),c===null&&d.write(`\r
${M.toString(16)}\r
`,"ascii"),p+=M,!d.write(b)&&this.pause&&this.pause()}catch(M){S.destroy(this,M)}},w=function(){O(!h),r.resume&&r.resume()},g=function(){y(new wy)},y=function(b){if(h)return;if(h=!0,O(e[Ve]&&e.running<=1),e[Ve]=!1,!b&&c!==null&&p!==c&&(b=new ys),d.removeListener("drain",w).removeListener("error",y),r.removeListener("data",m).removeListener("end",y).removeListener("error",y).removeListener("close",g),t.body=null,S.destroy(r,b),b){S.destroy(d,b);return}p===0?l?d.write(`${u}content-length: 0\r
\r
\r
`,"ascii"):d.write(`${u}\r
`,"ascii"):c===null&&d.write(`\r
0\r
\r
`,"ascii"),De(e)};r.on("data",m).on("end",y).on("error",y).on("close",g),d.on("drain",w).on("error",y)}return!0}Oc.exports=Ty});var Hc=f((EM,Gc)=>{"use strict";const zc=2048,Ds=zc-1;class Vc{constructor(){this.bottom=0,this.top=0,this.list=new Array(zc),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&Ds)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&Ds}shift(){const e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&Ds,e)}}Gc.exports=class{constructor(){this.head=this.tail=new Vc}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new Vc),this.head.push(t)}shift(){const t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var Jc=f((TM,Wc)=>{"use strict";const ky=xs(),{ClientClosedError:_y,InvalidArgumentError:Ry,ClientDestroyedError:Cs}=be(),Py=Hc(),Ft=Symbol("clients"),xr=Symbol("queue"),Fn=Symbol("destroyed"),nt=Symbol("closed promise"),jn=Symbol("closed resolve");class Ly{constructor(e,{connections:t,...r}={}){if(t!=null&&(!Number.isFinite(t)||t<=0))throw new Ry("invalid connections");this[xr]=new Py,this[nt]=null,this[jn]=null,this[Fn]=!1,this[Ft]=Array.from({length:t||10},()=>new ky(e,r));const n=this;function i(){const s=n[xr];for(;!this.busy;){const o=s.shift();if(!o)break;this.dispatch(o.opts,o.handler)}n[jn]&&s.isEmpty()&&Promise.all(n[Ft].map(o=>o.close())).then(n[jn])}for(const s of this[Ft])s.on("drain",i)}dispatch(e,t){try{if(this[Fn])throw new Cs;if(this[nt])throw new _y;const r=this[Ft].find(n=>!n.busy);r?r.dispatch(e,t):this[xr].push({opts:e,handler:t})}catch(r){t.onError(r)}}close(e){try{if(this[Fn])throw new Cs;if(this[nt]||(this[xr].isEmpty()?this[nt]=Promise.all(this[Ft].map(t=>t.close())):this[nt]=new Promise(t=>{this[jn]=t})),e)this[nt].then(()=>e(null,null));else return this[nt]}catch(t){if(e)e(t);else return Promise.reject(t)}}destroy(e,t){for(this[Fn]=!0,typeof e=="function"&&(t=e,e=null),e||(e=new Cs);;){const n=this[xr].shift();if(!n)break;n.handler.onError(e)}const r=Promise.all(this[Ft].map(n=>n.destroy(e)));if(t)r.then(()=>t(null,null));else return r}}Wc.exports=Ly});var jt=f((AM,Yc)=>{const{RequestAbortedError:Ny}=be(),it=Symbol("kListener"),Se=Symbol("kSignal");function Fy(e,t){if(e[Se]=t,e[it]=null,!t)return;e[it]=()=>{e.abort?e.abort():e.onError(new Ny)},"addEventListener"in e[Se]?e[Se].addEventListener("abort",e[it]):e[Se].addListener("abort",e[it])}function jy(e){if(!e[Se])return;"removeEventListener"in e[Se]?e[Se].removeEventListener("abort",e[it]):e[Se].removeListener("abort",e[it]),e[Se]=null,e[it]=null}Yc.exports={addSignal:Fy,removeSignal:jy}});var Ss=f((xM,Qc)=>{"use strict";const{Readable:qy}=require("stream"),{InvalidArgumentError:qn,RequestAbortedError:$y}=be(),st=ze(),{AsyncResource:By}=require("async_hooks"),{addSignal:Uy,removeSignal:Kc}=jt(),Xc=Symbol("abort");class Gy extends qy{constructor(e,t){super({autoDestroy:!0,read:e});this[Xc]=t}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new $y),e&&this[Xc](),t(e)}}class zy extends By{constructor(e,t){if(!e||typeof e!="object")throw new qn("invalid opts");const{signal:r,method:n,opaque:i,body:s}=e;try{if(typeof t!="function")throw new qn("invalid callback");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new qn("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new qn("invalid method");super("UNDICI_REQUEST")}catch(o){throw st.isStream(s)&&st.destroy(s.on("error",st.nop),o),o}this.opaque=i||null,this.callback=t,this.res=null,this.abort=null,this.body=s,st.isStream(s)&&s.on("error",o=>{this.onError(o)}),Uy(this,r)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{callback:n,opaque:i,abort:s}=this;if(e<200)return;const o=new Gy(r,s);this.callback=null,this.res=o,this.runInAsyncScope(n,null,null,{statusCode:e,headers:st.parseHeaders(t),opaque:i,body:o})}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;Kc(this),t.push(null)}onError(e){const{res:t,callback:r,body:n,opaque:i}=this;Kc(this),r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,i)),t&&(this.res=null,st.destroy(t,e)),n&&(this.body=null,st.destroy(n,e))}}function Zc(e,t){if(t===void 0)return new Promise((r,n)=>{Zc.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new zy(e,t))}catch(r){if(typeof t=="function")process.nextTick(t,r,{opaque:e&&e.opaque});else throw r}}Qc.exports=Zc});var Is=f((DM,ed)=>{"use strict";const{finished:Vy}=require("stream"),{InvalidArgumentError:Dr,InvalidReturnValueError:Hy}=be(),Ie=ze(),{AsyncResource:Wy}=require("async_hooks"),{addSignal:Jy,removeSignal:td}=jt();class Yy extends Wy{constructor(e,t,r){if(!e||typeof e!="object")throw new Dr("invalid opts");const{signal:n,method:i,opaque:s,body:o}=e;try{if(typeof r!="function")throw new Dr("invalid callback");if(typeof t!="function")throw new Dr("invalid factory");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Dr("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new Dr("invalid method");super("UNDICI_STREAM")}catch(a){throw Ie.isStream(o)&&Ie.destroy(o.on("error",Ie.nop),a),a}this.opaque=s||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.trailers=null,this.body=o,Ie.isStream(o)&&o.on("error",a=>{this.onError(a)}),Jy(this,n)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{factory:n,opaque:i}=this;if(e<200)return;this.factory=null;const s=this.runInAsyncScope(n,null,{statusCode:e,headers:Ie.parseHeaders(t),opaque:i});if(!s||typeof s.write!="function"||typeof s.end!="function"||typeof s.on!="function")throw new Hy("expected Writable");s.on("drain",r),Vy(s,{readable:!1},o=>{const{callback:a,res:l,opaque:c,trailers:u,abort:d}=this;this.res=null,(o||!l.readable)&&Ie.destroy(l,o),this.callback=null,this.runInAsyncScope(a,null,o||null,{opaque:c,trailers:u}),o&&d()}),this.res=s}onData(e){const{res:t}=this;return t.write(e)}onComplete(e){const{res:t}=this;td(this),this.trailers=e?Ie.parseHeaders(e):{},t.end()}onError(e){const{res:t,callback:r,opaque:n,body:i}=this;td(this),this.factory=null,t?(this.res=null,Ie.destroy(t,e)):r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,n)),i&&(this.body=null,Ie.destroy(i,e))}}function rd(e,t,r){if(r===void 0)return new Promise((n,i)=>{rd.call(this,e,t,(s,o)=>s?i(s):n(o))});try{this.dispatch(e,new Yy(e,t,r))}catch(n){if(typeof r=="function")process.nextTick(r,n,{opaque:e&&e.opaque});else throw n}}ed.exports=rd});var ks=f((CM,nd)=>{"use strict";const{Readable:id,Duplex:Qy,PassThrough:Ky}=require("stream"),{InvalidArgumentError:$n,InvalidReturnValueError:Xy,RequestAbortedError:Os}=be(),Oe=ze(),{AsyncResource:Zy}=require("async_hooks"),{assert:ew}=require("console"),{addSignal:tw,removeSignal:rw}=jt(),qt=Symbol("resume");class nw extends id{constructor(){super({autoDestroy:!0});this[qt]=null}_read(){const{[qt]:e}=this;e&&(this[qt]=null,e())}_destroy(e,t){this._read(),ew(e||this._readableState.endEmitted),t(e)}}class iw extends id{constructor(e){super({autoDestroy:!0});this[qt]=e}_read(){this[qt]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new Os),t(e)}}class sw extends Zy{constructor(e,t){if(!e||typeof e!="object")throw new $n("invalid opts");if(typeof t!="function")throw new $n("invalid handler");const{signal:r,method:n,opaque:i}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new $n("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new $n("invalid method");super("UNDICI_PIPELINE");this.opaque=i||null,this.handler=t,this.abort=null,tw(this,r),this.req=new nw().on("error",Oe.nop),this.ret=new Qy({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{const{body:s}=this;s&&s.resume&&s.resume()},write:(s,o,a)=>{const{req:l}=this;l.push(s,o)||l._readableState.destroyed?a():l[qt]=a},destroy:(s,o)=>{const{body:a,req:l,res:c,ret:u,abort:d}=this;!s&&!u._readableState.endEmitted&&(s=new Os),d&&s&&d(),Oe.destroy(a,s),Oe.destroy(l,s),Oe.destroy(c,s),rw(this),o(s)}}).on("prefinish",()=>{const{req:s}=this;s.push(null)}),this.res=null}onConnect(e){const{ret:t}=this;t.destroyed?e():this.abort=e}onHeaders(e,t,r){const{opaque:n,handler:i}=this;if(e<200)return;this.res=new iw(r);let s;try{this.handler=null,s=this.runInAsyncScope(i,null,{statusCode:e,headers:Oe.parseHeaders(t),opaque:n,body:this.res})}catch(o){throw this.res.on("error",Oe.nop),o}if(!s||typeof s.on!="function")throw new Xy("expected Readable");s.on("data",o=>{const{ret:a,body:l}=this;!a.push(o)&&l.pause&&l.pause()}).on("error",o=>{const{ret:a}=this;Oe.destroy(a,o)}).on("end",()=>{const{ret:o}=this;o.push(null)}).on("close",()=>{const{ret:o}=this;o._readableState.ended||Oe.destroy(o,new Os)}),this.body=s}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;t.push(null)}onError(e){const{ret:t}=this;this.handler=null,Oe.destroy(t,e)}}function ow(e,t){try{const r=new sw(e,t),{path:n,method:i,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:c}=e;return this.dispatch({path:n,method:i,body:r.req,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:c},r),r.ret}catch(r){return new Ky().destroy(r)}}nd.exports=ow});var Rs=f((SM,sd)=>{"use strict";const{InvalidArgumentError:_s}=be(),{AsyncResource:aw}=require("async_hooks"),lw=ze(),{addSignal:uw,removeSignal:od}=jt();class cw extends aw{constructor(e,t){if(!e||typeof e!="object")throw new _s("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new _s("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE");this.opaque=n||null,this.callback=t,this.abort=null,uw(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;od(this),this.callback=null,this.runInAsyncScope(n,null,null,{headers:lw.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;od(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function ad(e,t){if(t===void 0)return new Promise((r,n)=>{ad.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new _s("invalid callback");try{const r=new cw(e,t),{path:n,method:i,headers:s,servername:o,signal:a,requestTimeout:l,protocol:c}=e;this.dispatch({path:n,method:i||"GET",headers:s,servername:o,signal:a,requestTimeout:l,upgrade:c||"Websocket"},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}sd.exports=ad});var Ls=f((IM,ld)=>{"use strict";const{InvalidArgumentError:Ps}=be(),{AsyncResource:dw}=require("async_hooks"),hw=ze(),{addSignal:pw,removeSignal:ud}=jt();class fw extends dw{constructor(e,t){if(!e||typeof e!="object")throw new Ps("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Ps("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT");this.opaque=n||null,this.callback=t,this.abort=null,pw(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;ud(this),this.callback=null,this.runInAsyncScope(n,null,null,{statusCode:e,headers:hw.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;ud(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function cd(e,t){if(t===void 0)return new Promise((r,n)=>{cd.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new Ps("invalid callback");try{const r=new fw(e,t),{path:n,headers:i,servername:s,signal:o,requestTimeout:a}=e;this.dispatch({path:n,method:"CONNECT",headers:i,servername:s,signal:o,requestTimeout:a},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}ld.exports=cd});var hd=f((OM,dd)=>{"use strict";const $t=xs(),mw=be(),ot=Jc();$t.prototype.request=Ss();$t.prototype.stream=Is();$t.prototype.pipeline=ks();$t.prototype.upgrade=Rs();$t.prototype.connect=Ls();ot.prototype.request=Ss();ot.prototype.stream=Is();ot.prototype.pipeline=ks();ot.prototype.upgrade=Rs();ot.prototype.connect=Ls();function Bn(e,t){return new ot(e,t)}Bn.Pool=ot;Bn.Client=$t;Bn.errors=mw;dd.exports=Bn});var fd=f(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.Undici=void 0;const pd=ic(),gw=hd();class yw{constructor(e,t){this.closed=!1,this.pool=new gw.Pool(e,{connections:100,pipelining:10,requestTimeout:0,socketTimeout:0,...t})}request(e,t){return new Promise((r,n)=>{this.pool.request({path:"/",method:"POST",headers:{"Content-Type":"application/json",...t},body:e},async(i,s)=>{if(i)n(i);else{const{statusCode:o,headers:a,body:l}=s,c=JSON.parse(await pd(l));r({statusCode:o,headers:a,data:c})}})})}status(){return new Promise((e,t)=>{this.pool.request({path:"/",method:"GET"},async(r,n)=>{if(r)t(r);else{const{statusCode:i,headers:s,body:o}=n,a=JSON.parse(await pd(o));e({statusCode:i,headers:s,data:a})}})})}close(){this.closed||this.pool.close(()=>{}),this.closed=!0}}Un.Undici=yw});var Fs=f(Bt=>{"use strict";var ke=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.NodeEngine=void 0;const x=Yi(),Gn=ke(Ai()),ww=Fl(),Cr=ke(require("path")),bw=ke(require("net")),ue=ke(require("fs")),U=ke(ve()),Mw=Xi(),Ns=cn(),md=require("util"),vw=ke(require("events")),Ew=Vi(),Tw=require("child_process"),gd=ke(es()),yd=ke(Jl()),wd=ke(Zu()),Aw=ec(),bd=fd(),N=Gn.default("engine"),xw=md.promisify(ue.default.exists),Dw=md.promisify(ue.default.readdir),Md=["native","darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"],zn=[],Sr=[];class Sw{constructor({cwd:e,datamodelPath:t,prismaPath:r,generator:n,datasources:i,showColors:s,logLevel:o,logQueries:a,env:l,flags:c,clientVersion:u,enableExperimental:d,engineEndpoint:h,enableDebugLogs:p,enableEngineDebugMode:m,useUds:w}){var g;this.restartCount=0,this.queryEngineStarted=!1,this.enableExperimental=[],this.useUds=!1,this.queryEngineKilled=!1,this.managementApiEnabled=!1,this.ready=!1,this.stderrLogs="",this.stdoutLogs="",this.handleRequestError=async(M,v)=>{var A,k,z,Q,I,de,L;N({error:M});let P;if(this.currentRequestPromise.isCanceled&&this.lastError)this.lastError.is_panic?(P=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastError),version:this.clientVersion}),this.clientVersion),this.lastPanic=P):P=new x.PrismaClientUnknownRequestError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastError),version:this.clientVersion}),this.clientVersion);else if(this.currentRequestPromise.isCanceled&&this.lastErrorLog)((k=(A=this.lastErrorLog)===null||A===void 0?void 0:A.fields)===null||k===void 0?void 0:k.message)==="PANIC"?(P=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastErrorLog),version:this.clientVersion}),this.clientVersion),this.lastPanic=P):P=new x.PrismaClientUnknownRequestError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastErrorLog),version:this.clientVersion}),this.clientVersion);else if(M.code&&M.code==="ECONNRESET"||M.code==="ECONNREFUSED"||M.code==="UND_ERR_SOCKET"&&M.message.toLowerCase().includes("closed")||M.message.toLowerCase().includes("client is destroyed")||M.message.toLowerCase().includes("other side closed")||M.code==="UND_ERR_CLOSED"){if(this.globalKillSignalReceived&&!this.child.connected)throw new x.PrismaClientUnknownRequestError(`The Node.js process already received a ${this.globalKillSignalReceived} signal, therefore the Prisma query engine exited
and your request can't be processed.
You probably have some open handle that prevents your process from exiting.
It could be an open http server or stream that didn't close yet.
We recommend using the \`wtfnode\` package to debug open handles.`,this.clientVersion);if(this.restartCount>4)throw new Error(`Query engine is trying to restart, but can't.
Please look into the logs or turn on the env var DEBUG=* to debug the constantly restarting query engine.`);if(this.lastError?this.lastError.is_panic?(P=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastError),version:this.clientVersion}),this.clientVersion),this.lastPanic=P):P=new x.PrismaClientUnknownRequestError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastError),version:this.clientVersion}),this.clientVersion):this.lastErrorLog&&(((Q=(z=this.lastErrorLog)===null||z===void 0?void 0:z.fields)===null||Q===void 0?void 0:Q.message)==="PANIC"?(P=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastErrorLog),version:this.clientVersion}),this.clientVersion),this.lastPanic=P):P=new x.PrismaClientUnknownRequestError(x.getErrorMessageWithLink({platform:this.platform,title:x.getMessage(this.lastErrorLog),version:this.clientVersion}),this.clientVersion)),!P){let re=this.getLastLog();re||(await new Promise(Yn=>setTimeout(Yn,500)),re=this.getLastLog());const Re=re||this.stderrLogs||this.stdoutLogs;let Or=re!=null?re:M.message,lt=M.stack+`
Exit code: `+this.exitCode+`
`+Re;if(lt=`signalCode: ${(I=this.child)===null||I===void 0?void 0:I.signalCode} | exitCode: ${(de=this.child)===null||de===void 0?void 0:de.exitCode} | killed: ${(L=this.child)===null||L===void 0?void 0:L.killed}
`+lt,P=new x.PrismaClientUnknownRequestError(x.getErrorMessageWithLink({platform:this.platform,title:Or,version:this.clientVersion,description:lt}),this.clientVersion),N(P.message),v)return!1}}throw P||M},this.env=l,this.cwd=this.resolveCwd(e),this.enableDebugLogs=p!=null?p:!1,this.enableEngineDebugMode=m!=null?m:!1,this.datamodelPath=t,this.prismaPath=(g=process.env.PRISMA_QUERY_ENGINE_BINARY)!==null&&g!==void 0?g:r,this.generator=n,this.datasources=i,this.logEmitter=new vw.default,this.showColors=s!=null?s:!1,this.logLevel=o,this.logQueries=a!=null?a:!1,this.clientVersion=u,this.flags=c!=null?c:[],this.enableExperimental=d!=null?d:[];const y=["middlewares","aggregateApi","distinct","aggregations","insensitiveFilters"],b=this.enableExperimental.filter(M=>y.includes(M));if(b.length>0&&console.log(`${U.default.blueBright("info")} The preview flags \`${b.join("`, `")}\` were removed, you can now safely remove them from your schema.prisma.`),this.enableExperimental=this.enableExperimental.filter(M=>!y.includes(M)),this.engineEndpoint=h,w&&process.platform!=="win32"&&(this.socketPath=`/tmp/prisma-${Ns.getRandomString()}.sock`,Sr.push(this.socketPath),this.useUds=w),h){const M=new URL(h);this.port=Number(M.port)}if(this.logEmitter.on("error",M=>{this.enableDebugLogs&&Gn.default("engine:log")(M),M instanceof Error?Gn.default("engine:error")(M):(this.lastErrorLog=M,M.fields.message==="PANIC"&&this.handlePanic(M))}),this.platform){if(!Md.includes(this.platform)&&!ue.default.existsSync(this.platform))throw new x.PrismaClientInitializationError(`Unknown ${U.default.red("PRISMA_QUERY_ENGINE_BINARY")} ${U.default.redBright.bold(this.platform)}. Possible binaryTargets: ${U.default.greenBright(Md.join(", "))} or a path to the query engine binary.
You may have to run ${U.default.greenBright("prisma generate")} for your changes to take effect.`,this.clientVersion)}else this.getPlatform();this.enableDebugLogs&&Gn.default.enable("*"),zn.push(this)}resolveCwd(e){return e&&ue.default.existsSync(e)&&ue.default.lstatSync(e).isDirectory()?e:process.cwd()}on(e,t){e==="beforeExit"?this.beforeExitListener=t:this.logEmitter.on(e,t)}async emitExit(){if(this.beforeExitListener)try{await this.beforeExitListener()}catch(e){console.error(e)}}async getPlatform(){return this.platformPromise?this.platformPromise:(this.platformPromise=ww.getPlatform(),this.platformPromise)}getQueryEnginePath(e,t=__dirname){let r=Cr.default.join(t,`query-engine-${e}`);return e==="windows"&&(r=`${r}.exe`),r}handlePanic(e){var t;(t=this.child)===null||t===void 0||t.kill(),this.currentRequestPromise&&this.currentRequestPromise.cancel()}async resolvePrismaPath(){if(this.prismaPath)return this.prismaPath;const platform=await this.getPlatform();this.platform&&this.platform!==platform&&(this.incorrectlyPinnedBinaryTarget=this.platform),this.platform=this.platform||platform;const fileName=eval("require('path').basename(__filename)");if(fileName==="NodeEngine.js")return this.getQueryEnginePath(this.platform,Cr.default.resolve(__dirname,".."));{const dotPrismaPath=await this.getQueryEnginePath(this.platform,eval("require('path').join(__dirname, '../../../.prisma/client')"));if(N({dotPrismaPath}),ue.default.existsSync(dotPrismaPath))return dotPrismaPath;const dirnamePath=await this.getQueryEnginePath(this.platform,eval("__dirname"));if(N({dirnamePath}),ue.default.existsSync(dirnamePath))return dirnamePath;const parentDirName=await this.getQueryEnginePath(this.platform,Cr.default.join(eval("__dirname"),".."));if(N({parentDirName}),ue.default.existsSync(parentDirName))return parentDirName;const datamodelDirName=await this.getQueryEnginePath(this.platform,Cr.default.dirname(this.datamodelPath));if(ue.default.existsSync(datamodelDirName))return datamodelDirName;const cwdPath=await this.getQueryEnginePath(this.platform,this.cwd);if(ue.default.existsSync(cwdPath))return cwdPath;const prismaPath=await this.getQueryEnginePath(this.platform);return N({prismaPath}),prismaPath}}async getPrismaPath(){const e=await this.resolvePrismaPath(),t=await this.getPlatform();if(!await xw(e)){const r=this.incorrectlyPinnedBinaryTarget?`
You incorrectly pinned it to ${U.default.redBright.bold(`${this.incorrectlyPinnedBinaryTarget}`)}
`:"",n=Cr.default.dirname(e),i=ue.default.existsSync(n);let s=[];i&&(s=await Dw(n));let o=`Query engine binary for current platform "${U.default.bold(t)}" could not be found.${r}
This probably happens, because you built Prisma Client on a different platform.
(Prisma Client looked in "${U.default.underline(e)}")

Files in ${n}:

${s.map(a=>`  ${a}`).join(`
`)}
`;throw this.generator?this.generator.binaryTargets.includes(this.platform)||this.generator.binaryTargets.includes("native")?o+=`
You already added the platform${this.generator.binaryTargets.length>1?"s":""} ${this.generator.binaryTargets.map(a=>`"${U.default.bold(a)}"`).join(", ")} to the "${U.default.underline("generator")}" block
in the "schema.prisma" file as described in https://pris.ly/d/client-generator,
but something went wrong. That's suboptimal.

Please create an issue at https://github.com/prisma/prisma-client-js/issues/new`:o+=`

To solve this problem, add the platform "${this.platform}" to the "${U.default.underline("generator")}" block in the "schema.prisma" file:
${U.default.greenBright(this.getFixedGenerator())}

Then run "${U.default.greenBright("prisma generate")}" for your changes to take effect.
Read more about deploying Prisma Client: https://pris.ly/d/client-generator`:o+=`

Read more about deploying Prisma Client: https://pris.ly/d/client-generator
`,new x.PrismaClientInitializationError(o,this.clientVersion)}return this.incorrectlyPinnedBinaryTarget&&console.error(`${U.default.yellow("Warning:")} You pinned the platform ${U.default.bold(this.incorrectlyPinnedBinaryTarget)}, but Prisma Client detects ${U.default.bold(await this.getPlatform())}.
This means you should very likely pin the platform ${U.default.greenBright(await this.getPlatform())} instead.
${U.default.dim("In case we're mistaken, please report this to us 🙏.")}`),process.platform!=="win32"&&Ns.plusX(e),e}getFixedGenerator(){const e={...this.generator,binaryTargets:Ns.fixBinaryTargets(this.generator.binaryTargets,this.platform)};return Mw.printGeneratorConfig(e)}printDatasources(){return this.datasources?JSON.stringify(this.datasources):"[]"}async start(){return this.startPromise||(this.startPromise=this.internalStart()),this.startPromise}async getEngineEnvVars(){const e={PRISMA_DML_PATH:this.datamodelPath,RUST_BACKTRACE:"1",RUST_LOG:"info"};return this.useUds||(e.PORT=String(this.port),N(`port: ${this.port}`)),(this.logQueries||this.logLevel==="info")&&(e.RUST_LOG="info",this.logQueries&&(e.LOG_QUERIES="true")),this.datasources&&(e.OVERWRITE_DATASOURCES=this.printDatasources()),!process.env.NO_COLOR&&this.showColors&&(e.CLICOLOR_FORCE="1"),{...this.env,...process.env,...e}}internalStart(){return new Promise(async(e,t)=>{var r,n,i;if(await new Promise(s=>process.nextTick(s)),this.stopPromise&&await this.stopPromise,this.engineEndpoint){try{await yd.default(()=>this.undici.status(),{retries:10})}catch(s){return t(s)}return e()}try{(((r=this.child)===null||r===void 0?void 0:r.connected)||this.child&&!((n=this.child)===null||n===void 0?void 0:n.killed))&&N("There is a child that still runs and we want to start again"),this.queryEngineStarted=!1,this.lastError=void 0,this.lastErrorLog=void 0,this.lastPanic=void 0,this.queryEngineKilled=!1,this.globalKillSignalReceived=void 0,N({cwd:this.cwd});const s=await this.getPrismaPath(),o=this.enableExperimental&&Array.isArray(this.enableExperimental)&&this.enableExperimental.length>0?[`--enable-experimental=${this.enableExperimental.join(",")}`]:[],a=this.enableEngineDebugMode?["--debug"]:[],l=[...o,...a,"--enable-raw-queries",...this.flags];this.useUds&&l.push("--unix-path",this.socketPath),N({flags:l}),this.port=await this.getFreePort();const c=await this.getEngineEnvVars();if(this.child=Tw.spawn(s,l,{env:c,cwd:this.cwd,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),gd.default(this.child.stderr).on("data",u=>{const d=String(u);N("stderr",d);try{const h=JSON.parse(d);if(typeof h.is_panic!="undefined"&&(N(h),this.lastError=h,this.engineStartDeferred)){const p=new x.PrismaClientInitializationError(this.lastError.message,this.clientVersion);this.engineStartDeferred.reject(p)}}catch(h){!d.includes("Printing to stderr")&&!d.includes("Listening on ")&&(this.stderrLogs+=`
`+d)}}),gd.default(this.child.stdout).on("data",u=>{var d;const h=String(u);try{const p=JSON.parse(h);if(N("stdout",p),this.engineStartDeferred&&p.level==="INFO"&&p.target==="query_engine::server"&&((d=p.fields)===null||d===void 0?void 0:d.message.startsWith("Started http server"))&&(this.useUds?this.undici=new bd.Undici({hostname:"localhost",protocol:"http:"},{socketPath:this.socketPath}):this.undici=new bd.Undici(`http://localhost:${this.port}`),this.engineStartDeferred.resolve(),this.engineStartDeferred=void 0,this.queryEngineStarted=!0),typeof p.is_panic=="undefined"){const m=Ew.convertLog(p);this.logEmitter.emit(m.level,m),this.lastLog=m}else this.lastError=p}catch(p){N(p,h)}}),this.child.on("exit",u=>{var d,h;if(this.engineStopDeferred){this.engineStopDeferred.resolve(u);return}if((d=this.undici)===null||d===void 0||d.close(),this.exitCode=u,!this.queryEngineKilled&&this.queryEngineStarted&&this.restartCount<5){yd.default(async p=>{N(`Restart attempt ${p}. Waiting for backoff`),this.backoffPromise&&await this.backoffPromise,N(`Restart attempt ${p}. Backoff done`),this.restartCount++;const m=Math.random()*2*Math.pow(Math.E,this.restartCount);return this.startPromise=void 0,this.backoffPromise=new Promise(w=>setTimeout(w,m)),this.start()},{retries:4,randomize:!0,minTimeout:1e3,maxTimeout:60*1e3,factor:Math.E,onFailedAttempt:p=>{N(p)}});return}if(u!==0&&this.engineStartDeferred){let p;u!==null?p=new x.PrismaClientInitializationError(`Query engine exited with code ${u}
`+this.stderrLogs,this.clientVersion):((h=this.child)===null||h===void 0?void 0:h.signalCode)?p=new x.PrismaClientInitializationError(`Query engine process killed with signal ${this.child.signalCode} for unknown reason.
Make sure that the engine binary at ${s} is not corrupt.
`+this.stderrLogs,this.clientVersion):p=new x.PrismaClientInitializationError(this.stderrLogs,this.clientVersion),this.engineStartDeferred.reject(p)}if(!this.child)return;if(this.lastError)return;if(this.lastErrorLog){this.lastErrorLog.target="exit";return}u===126?this.lastErrorLog={timestamp:new Date,target:"exit",level:"error",fields:{message:`Couldn't start query engine as it's not executable on this operating system.
You very likely have the wrong "binaryTarget" defined in the schema.prisma file.`}}:this.lastErrorLog={target:"exit",timestamp:new Date,level:"error",fields:{message:(this.stderrLogs||"")+(this.stdoutLogs||"")+`
Exit code: ${u}`}}}),this.child.on("error",u=>{this.lastError={message:u.message,backtrace:"Could not start query engine",is_panic:!1},t(u)}),this.child.on("close",(u,d)=>{var h,p;if((h=this.undici)===null||h===void 0||h.close(),u===null&&d==="SIGABRT"&&this.child){const m=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:"Panic in Query Engine with SIGABRT signal",description:this.stderrLogs,version:this.clientVersion}),this.clientVersion);this.logEmitter.emit("error",m)}else if(u===255&&d===null&&((p=this.lastErrorLog)===null||p===void 0?void 0:p.fields.message)==="PANIC"&&!this.lastPanic){const m=new x.PrismaClientRustPanicError(x.getErrorMessageWithLink({platform:this.platform,title:`${this.lastErrorLog.fields.message}: ${this.lastErrorLog.fields.reason} in
${this.lastErrorLog.fields.file}:${this.lastErrorLog.fields.line}:${this.lastErrorLog.fields.column}`,version:this.clientVersion}),this.clientVersion);this.logEmitter.emit("error",m)}}),this.lastError)return t(new x.PrismaClientInitializationError(x.getMessage(this.lastError),this.clientVersion));if(this.lastErrorLog)return t(new x.PrismaClientInitializationError(x.getMessage(this.lastErrorLog),this.clientVersion));try{await new Promise((u,d)=>{this.engineStartDeferred={resolve:u,reject:d}})}catch(u){throw(i=this.child)===null||i===void 0||i.kill(),u}this.url=`http://localhost:${this.port}`,(async()=>{const u=await this.version();N(`Client Version ${this.clientVersion}`),N(`Engine Version ${u}`)})(),this.stopPromise=void 0,e()}catch(s){t(s)}})}async stop(){return this.stopPromise||(this.stopPromise=this._stop()),this.stopPromise}async _stop(){var e,t;if(this.startPromise&&await this.startPromise,await new Promise(n=>process.nextTick(n)),this.currentRequestPromise)try{await this.currentRequestPromise}catch(n){}this.getConfigPromise=void 0;let r;this.child&&(N("Stopping Prisma engine4"),this.startPromise&&(N("Waiting for start promise"),await this.startPromise),N("Done waiting for start promise"),r=new Promise((n,i)=>{this.engineStopDeferred={resolve:n,reject:i}}),this.queryEngineKilled=!0,(e=this.undici)===null||e===void 0||e.close(),(t=this.child)===null||t===void 0||t.kill(),this.child=void 0),r&&await r,await new Promise(n=>process.nextTick(n)),this.startPromise=void 0,this.engineStopDeferred=void 0,setTimeout(()=>{if(this.socketPath){try{ue.default.unlinkSync(this.socketPath)}catch(n){N(n)}Sr.splice(Sr.indexOf(this.socketPath),1),this.socketPath=void 0}})}async kill(e){var t,r;this.getConfigPromise=void 0,this.globalKillSignalReceived=e,this.queryEngineKilled=!0,(t=this.child)===null||t===void 0||t.kill(),(r=this.undici)===null||r===void 0||r.close()}getFreePort(){return new Promise((e,t)=>{const r=bw.default.createServer(n=>n.end(""));r.unref(),r.on("error",t),r.listen(0,()=>{const n=r.address(),i=typeof n=="string"?parseInt(n.split(":").slice(-1)[0],10):n.port;r.close(s=>{s&&t(s),e(i)})})})}async getConfig(){return this.getConfigPromise||(this.getConfigPromise=this._getConfig()),this.getConfigPromise}async _getConfig(){const e=await this.getPrismaPath(),t=await this.getEngineEnvVars(),r=await wd.default(e,["cli","get-config"],{env:Aw.omit(t,["PORT"]),cwd:this.cwd});return JSON.parse(r.stdout)}async version(){const e=await this.getPrismaPath(),t=await wd.default(e,["--version"],{env:{...process.env}});return t.stdout}async request(e,t,r=1){if(this.stopPromise&&await this.stopPromise,await this.start(),!this.child&&!this.engineEndpoint)throw new x.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped",this.clientVersion);return this.currentRequestPromise=this.undici.request(Cw(e),t),this.currentRequestPromise.then(({data:n,headers:i})=>{if(n.errors)throw n.errors.length===1?this.graphQLToJSError(n.errors[0]):new Error(JSON.stringify(n.errors));const s=parseInt(i["x-elapsed"])/1e3;return this.restartCount>0&&(this.restartCount=0),{data:n,elapsed:s}}).catch(async n=>{const i=await this.handleRequestError(n,r<3);if(!i&&r<3)return await new Promise(s=>setTimeout(s,Math.random()*1e3)),this.request(e,t,r+1);throw i})}async requestBatch(e,t=!1,r=1){if(await this.start(),!this.child&&!this.engineEndpoint)throw new x.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped",this.clientVersion);const n={},i={batch:e.map(s=>({query:s,variables:n})),transaction:t};return this.currentRequestPromise=this.undici.request(JSON.stringify(i)),this.currentRequestPromise.then(({data:s,headers:o})=>{const a=parseInt(o["x-elapsed"])/1e3;if(Array.isArray(s))return s.map(l=>l.errors?this.graphQLToJSError(l.errors[0]):{data:l,elapsed:a});throw s.errors&&s.errors.length===1?new Error(s.errors[0].error):new Error(JSON.stringify(s))}).catch(async s=>{const o=await this.handleRequestError(s,r<3);if(!o&&r<3)return await new Promise(a=>setTimeout(a,Math.random()*1e3)),this.requestBatch(e,t,r+1);throw o})}getLastLog(){var e,t,r;const n=(t=(e=this.lastLog)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.message;if(n){const i=Object.entries((r=this.lastLog)===null||r===void 0?void 0:r.fields).filter(([s])=>s!=="message").map(([s,o])=>`${s}: ${o}`).join(", ");return i?`${n}  ${i}`:n}return null}graphQLToJSError(e){return e.user_facing_error.error_code?new x.PrismaClientKnownRequestError(e.user_facing_error.message,e.user_facing_error.error_code,this.clientVersion,e.user_facing_error.meta):new x.PrismaClientUnknownRequestError(e.user_facing_error.message,this.clientVersion)}}Bt.NodeEngine=Sw;function Cw(e){return`{"variables":{},"query":${JSON.stringify(e)}}`}function Ut(e,t=!1){process.once(e,async()=>{for(const r of zn)await r.emitExit(),r.kill(e);if(zn.splice(0,zn.length),Sr.length>0)for(const r of Sr)try{ue.default.unlinkSync(r)}catch(n){}t&&process.listenerCount(e)===0&&process.exit()})}Ut("beforeExit");Ut("exit");Ut("SIGINT",!0);Ut("SIGUSR1",!0);Ut("SIGUSR2",!0);Ut("SIGTERM",!0)});var Ed=f(Gt=>{"use strict";var vd=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getInternalDatamodelJson=void 0;const Iw=vd(require("path")),Ow=require("child_process"),kw=vd(es());function _w(e,t=Iw.default.join(__dirname,"../schema-inferrer-bin")){return new Promise((r,n)=>{const i=Ow.spawn(t,{stdio:["pipe","pipe",process.stderr]});i.on("error",function(a){console.error("[schema-inferrer-bin] error: %s",a),n(a)}),i.on("exit",function(a,l){a!==0&&console.error("[schema-inferrer-bin] exit: code=%s signal=%s",a,l),n()});const s=kw.default(i.stdout);s.on("data",a=>{const l=JSON.parse(a),c=Buffer.from(JSON.stringify(l)).toString("base64");r(c)});const o=e.replace(/\n/g," ");i.stdin.write(JSON.stringify({dataModel:o})+`
`)})}Gt.getInternalDatamodelJson=_w});var Td=f(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.fixBinaryTargets=G.printGeneratorConfig=G.getInternalDatamodelJson=G.Engine=G.PrismaClientRustPanicError=G.PrismaClientInitializationError=G.PrismaClientUnknownRequestError=G.PrismaClientKnownRequestError=void 0;var Vn=Yi();Object.defineProperty(G,"PrismaClientKnownRequestError",{enumerable:!0,get:function(){return Vn.PrismaClientKnownRequestError}});Object.defineProperty(G,"PrismaClientUnknownRequestError",{enumerable:!0,get:function(){return Vn.PrismaClientUnknownRequestError}});Object.defineProperty(G,"PrismaClientInitializationError",{enumerable:!0,get:function(){return Vn.PrismaClientInitializationError}});Object.defineProperty(G,"PrismaClientRustPanicError",{enumerable:!0,get:function(){return Vn.PrismaClientRustPanicError}});var Rw=Fs();Object.defineProperty(G,"Engine",{enumerable:!0,get:function(){return Rw.NodeEngine}});var Pw=Ed();Object.defineProperty(G,"getInternalDatamodelJson",{enumerable:!0,get:function(){return Pw.getInternalDatamodelJson}});var Lw=Xi();Object.defineProperty(G,"printGeneratorConfig",{enumerable:!0,get:function(){return Lw.printGeneratorConfig}});var Nw=cn();Object.defineProperty(G,"fixBinaryTargets",{enumerable:!0,get:function(){return Nw.fixBinaryTargets}})});var js=f(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.sqltag=ce.empty=ce.raw=ce.join=ce.Sql=void 0;const Fw=require("util");class Je{constructor(e,t){if(e.length===0)throw new TypeError("Expected at least 1 string");if(e.length-1!==t.length)throw new TypeError(`Expected ${e.length} strings to have ${e.length-1} values`);let r=t.length,n=e.length;for(const o of t)o instanceof Je&&(r+=o.values.length-1,n+=o.strings.length-2);this.values=new Array(r),this.strings=new Array(n),this.strings[0]=e[0];let i=1,s=0;for(;i<e.length;){const o=t[i-1],a=e[i++];if(o instanceof Je){this.strings[s]+=o.strings[0];let l=0;for(;l<o.values.length;)this.values[s++]=o.values[l++],this.strings[s]=o.strings[l];this.strings[s]+=a}else this.values[s++]=o,this.strings[s]=a}}get text(){return this.strings.reduce((e,t,r)=>`${e}$${r}${t}`)}get sql(){return this.strings.join("?")}[Fw.inspect.custom](){return{text:this.text,sql:this.sql,values:this.values}}}ce.Sql=Je;Object.defineProperty(Je.prototype,"sql",{enumerable:!0});Object.defineProperty(Je.prototype,"text",{enumerable:!0});function jw(e,t=","){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new Je(["",...Array(e.length-1).fill(t),""],e)}ce.join=jw;function Ad(e){return new Je([e],[])}ce.raw=Ad;ce.empty=Ad("");function xd(e,...t){return new Je(e.raw,t)}ce.sqltag=xd;ce.default=xd});var Sd=f((NM,qs)=>{const qw=require("fs"),$w=require("path");function Dd(e){console.log(`[dotenv][DEBUG] ${e}`)}const Bw=`
`,Uw=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,Gw=/\\n/g,zw=/\n|\r|\r\n/;function Cd(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(zw).forEach(function(i,s){const o=i.match(Uw);if(o!=null){const a=o[1];let l=o[2]||"";const c=l.length-1,u=l[0]==='"'&&l[c]==='"',d=l[0]==="'"&&l[c]==="'";d||u?(l=l.substring(1,c),u&&(l=l.replace(Gw,Bw))):l=l.trim(),n[a]=l}else r&&Dd(`did not match key and value when parsing line ${s+1}: ${i}`)}),n}function Vw(e){let t=$w.resolve(process.cwd(),".env"),r="utf8",n=!1;e&&(e.path!=null&&(t=e.path),e.encoding!=null&&(r=e.encoding),e.debug!=null&&(n=!0));try{const i=Cd(qw.readFileSync(t,{encoding:r}),{debug:n});return Object.keys(i).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?n&&Dd(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=i[s]}),{parsed:i}}catch(i){return{error:i}}}qs.exports.config=Vw;qs.exports.parse=Cd});var Id=f(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.dotenvExpand=void 0;function Hw(e){const t=e.ignoreProcessEnv?{}:process.env,r=i=>{var s=i.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)||[];return s.reduce(function(o,a){const l=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(a);if(!l)return o;const c=l[1];let u,d;if(c==="\\")d=l[0],u=d.replace("\\$","$");else{const h=l[2];d=l[0].substring(c.length),u=t.hasOwnProperty(h)?t[h]:e.parsed[h]||"",u=r(u)}return o.replace(d,u)},i)};for(const i in e.parsed){const s=t.hasOwnProperty(i)?t[i]:e.parsed[i];e.parsed[i]=r(s)}for(var n in e.parsed)t[n]=e.parsed[n];return e}Hn.dotenvExpand=Hw});var Pd=f(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.mapPreviewFeatures=void 0;const Ww={transactionApi:"transaction",aggregateApi:"aggregations"};function Jw(e){return Array.isArray(e)&&e.length>0?e.map(t=>{var r;return(r=Ww[t])!==null&&r!==void 0?r:t}):[]}Wn.mapPreviewFeatures=Jw});var Nd=f((GM,Ld)=>{Ld.exports={name:"@prisma/client",version:"2.10.0-dev.20",description:"Prisma Client is an auto-generated, type-safe and modern JavaScript/TypeScript ORM for Node.js that's tailored to your data. Supports MySQL, PostgreSQL, MariaDB, SQLite databases.",keywords:["orm","prisma2","prisma","client","query","database","sql","postgres","postgresql","mysql","sqlite","mariadb","typescript","query-builder"],main:"index.js",types:"index.d.ts",license:"Apache-2.0",engines:{node:">=10"},homepage:"https://github.com/prisma/prisma-client-js",repository:{url:"git@github.com:prisma/prisma.git"},maintainers:["Tim Suchanek <suchanek@prisma.io>","Joël Galeran <galeran@prisma.io>"],bugs:{email:"suchanek@prisma.io",url:"https://github.com/prisma/prisma-client-js/issues"},scripts:{build:"node helpers/build.js",test:"jest",format:"prettier --write .",lint:"eslint --fix --ext .js,.ts .",download:"node scripts/download.js",generate:"node scripts/postinstall.js",postinstall:"node scripts/postinstall.js",prepare:'cp scripts/backup-index.js index.js && cp scripts/backup-index.d.ts index.d.ts && node scripts/download.js || echo ""',prepublishOnly:"pnpm run build"},prisma:{version:"d19f8270692e0d82c3ae7e0e9a61a4cb514b6862"},files:["runtime","scripts","generator-build","index.js","index.d.ts"],devDependencies:{"@prisma/debug":"2.10.0-dev.20","@prisma/engine-core":"2.10.0-dev.20","@prisma/fetch-engine":"2.10.0-dev.20","@prisma/generator-helper":"2.10.0-dev.20","@prisma/get-platform":"2.10.0-dev.20","@prisma/sdk":"2.10.0-dev.20","@timsuchanek/copy":"1.4.5","@types/debug":"4.1.5","@types/fs-extra":"9.0.1","@types/jest":"26.0.14","@types/js-levenshtein":"1.1.0","@types/node":"12.12.62","@types/node-fetch":"2.5.7","@types/pg":"7.14.5","@typescript-eslint/eslint-plugin":"4.2.0","@typescript-eslint/parser":"4.2.0",arg:"4.1.3",benchmark:"2.1.4",chalk:"4.1.0",dotenv:"8.2.0","escape-string-regexp":"4.0.0",eslint:"7.10.0","eslint-config-prettier":"6.12.0","eslint-plugin-eslint-comments":"3.2.0","eslint-plugin-jest":"24.0.2","eslint-plugin-prettier":"3.1.4",execa:"4.0.3","fast-clone":"1.5.13","fast-copy":"2.1.0","flat-map-polyfill":"0.3.8","fs-monkey":"1.0.1","get-own-enumerable-property-symbols":"3.0.2","get-port":"5.1.1",husky:"4.3.0","indent-string":"4.0.0","is-obj":"2.0.0","is-regexp":"2.1.0",jest:"26.4.2","jest-diff":"26.4.2","js-levenshtein":"1.1.6",klona:"2.0.4","lint-staged":"10.4.0","make-dir":"3.1.0",mariadb:"2.4.2","node-fetch":"2.6.1",packwatch:"2.0.0",pg:"8.3.3",pidtree:"0.5.0",pluralize:"8.0.0",prettier:"2.1.2","replace-string":"3.1.0",rimraf:"3.0.2",rollup:"2.28.2","rollup-plugin-dts":"1.4.13","set-value":"3.0.2","sql-template-tag":"3.4.0","stacktrace-parser":"0.1.10","stat-mode":"1.0.0","strip-ansi":"6.0.0","strip-indent":"3.0.0","ts-jest":"26.4.0","ts-loader":"8.0.4","ts-node":"9.0.0",typescript:"4.0.3"},peerDependencies:{"@prisma/cli":"*"},peerDependenciesMeta:{"@prisma/cli":{optional:!0}},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{js,ts,css,json,md}":["prettier --write","git add"],"*.{js,ts}":["eslint"]},dependencies:{"pkg-up":"^3.1.0"}}});var Bs=f(Zw=>{zd(Zw,{DMMF:()=>je.DMMF,DMMFClass:()=>Zt,Engine:()=>X.Engine,PrismaClientInitializationError:()=>X.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>X.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>X.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>X.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>Kr,RawValue:()=>j.RawValue,Sql:()=>j.Sql,Value:()=>j.Value,debugLib:()=>Hs.default,empty:()=>j.empty,getPrismaClient:()=>Vs,join:()=>j.join,makeDocument:()=>sr,raw:()=>j.raw,sqltag:()=>j.sqltag,transformDocument:()=>or,unpack:()=>ar});const Hs=R(lr()),X=R(Td()),j=R(js())});const je=R(xa());const qe=R(ve()),Di=R(Gr()),Ia=R(Sa()),$e=(e,t)=>{const r={};for(const n of e){const i=n[t];r[i]=n}return r},Oa=(e,t,r)=>{const n={};for(const i of e){const s=i[r];n[s]=i}for(const i of t){const s=i[r];n[s]=i}return n},bt={String:!0,Int:!0,Float:!0,Boolean:!0,Long:!0,DateTime:!0,ID:!0,UUID:!0,Json:!0};const Ap={string:"String",boolean:"Boolean",object:"Json"};function Mt(e){return typeof e=="string"?e:e.name}function Kt(e,t){return t?`List<${e}>`:e}function vt(e,t){if(e===null)return"null";if(Array.isArray(e)){let n=e.reduce((i,s)=>{const o=vt(s,t);return i.includes(o)||i.push(o),i},[]);return n.includes("Float")&&n.includes("Int")&&(n=["Float"]),`List<${n.join(" | ")}>`}const r=typeof e;if(r==="number")return Math.trunc(e)===e?"Int":"Float";if(Object.prototype.toString.call(e)==="[object Date]")return"DateTime";if(r==="string"){if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))return"UUID";const n=new Date(e);if(t&&typeof t=="object"&&t.values&&t.values.includes(e))return t.name;if(n.toString()==="Invalid Date")return"String";if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/.test(e))return"DateTime"}return Ap[r]}function zr(e,t){const r=t.reduce((n,i)=>{const s=Ia.default(e,i);return s<n.distance?{distance:s,str:i}:n},{distance:Math.min(Math.floor(e.length)*1.1,...t.map(n=>n.length*3)),str:null});return r.str}function Et(e,t=!1){if(typeof e=="string")return e;if(e.values)return`enum ${e.name} {
${Di.default(e.values.join(", "),2)}
}`;{const r=Di.default(e.fields.map(n=>{const i=`${n.name}`,s=`${t?qe.default.green(i):i}${n.isRequired?"":"?"}: ${qe.default.white(n.inputTypes.map(o=>Kt(xp(o.type)?o.type.name:Mt(o.type),o.isList)).join(" | "))}`;return n.isRequired?s:qe.default.dim(s)}).join(`
`),2);return`${qe.default.dim("type")} ${qe.default.bold.dim(e.name)} ${qe.default.dim("{")}
${r}
${qe.default.dim("}")}`}}function xp(e){return!(typeof e=="string")}function Xt(e){return typeof e=="string"?e==="Null"?"null":e:e.name}function Qe(e){return typeof e=="string"?e:e.name}function Ci(e,t,r=!1){if(typeof e=="string")return e==="Null"?"null":e;if(e.values)return e.values.join(" | ");const n=e,i=t&&n.fields.every(s=>{var o;return s.inputTypes[0].kind==="object"||((o=s.inputTypes[1])==null?void 0:o.kind)==="object"});return r?Xt(e):n.fields.reduce((s,o)=>{let a="";return!i&&!o.isRequired?a=o.inputTypes.map(l=>Xt(l.type)).join(" | "):a=o.inputTypes.map(l=>Ci(l.type,o.isRequired,!0)).join(" | "),s[o.name+(o.isRequired?"":"?")]=a,s},{})}function ka(e,t,r){const n={};for(const i of e)n[r(i)]=i;for(const i of t){const s=r(i);n[s]||(n[s]=i)}return Object.values(n)}function Si(e){return e.substring(0,1).toLowerCase()+e.substring(1)}class Zt{constructor({datamodel:e,schema:t,mappings:r}){this.outputTypeMap={};this.outputTypeToMergedOutputType=e=>{const t=this.modelMap[e.name];return{...e,isEmbedded:t?t.isEmbedded:!1,fields:e.fields}};this.datamodel=e,this.schema=t,this.mappings=r,this.enumMap=this.getEnumMap(),this.queryType=this.getQueryType(),this.mutationType=this.getMutationType(),this.modelMap=this.getModelMap(),this.outputTypes=this.getOutputTypes(),this.outputTypeMap=this.getMergedOutputTypeMap(),this.resolveOutputTypes(this.outputTypes),this.inputTypes=this.schema.inputTypes,this.inputTypeMap=this.getInputTypeMap(),this.resolveInputTypes(this.inputTypes),this.resolveFieldArgumentTypes(this.outputTypes,this.inputTypeMap),this.mappingsMap=this.getMappingsMap(),this.queryType=this.outputTypeMap.Query,this.mutationType=this.outputTypeMap.Mutation,this.outputTypes=this.outputTypes,this.rootFieldMap=this.getRootFieldMap()}resolveOutputTypes(e){for(const t of e){for(const r of t.fields)typeof r.outputType.type=="string"&&!bt[r.outputType.type]&&(r.outputType.type=this.outputTypeMap[r.outputType.type]||this.enumMap[r.outputType.type]||r.outputType.type);t.fieldMap=$e(t.fields,"name")}}resolveInputTypes(e){for(const t of e){for(const r of t.fields){const n=r.inputTypes[0].type;typeof n=="string"&&!bt[n]&&(this.inputTypeMap[n]||this.enumMap[n])&&(r.inputTypes[0].type=this.inputTypeMap[n]||this.enumMap[n]||r.inputTypes[0].type);const i=r.inputTypes[1]&&r.inputTypes[1].type;typeof i=="string"&&!bt[i]&&(this.inputTypeMap[i]||this.enumMap[i])&&(r.inputTypes[1].type=this.inputTypeMap[i]||this.enumMap[i]||r.inputTypes[1].type)}t.fieldMap=$e(t.fields,"name")}}resolveFieldArgumentTypes(e,t){for(const r of e)for(const n of r.fields)for(const i of n.args){const s=i.inputTypes[0].type;typeof s=="string"&&!bt[s]&&(i.inputTypes[0].type=t[s]||this.enumMap[s]||i.inputTypes[0].type);const o=i.inputTypes[1]&&i.inputTypes[1].type;o&&typeof o=="string"&&!bt[o]&&(i.inputTypes[1].type=t[o]||this.enumMap[o]||i.inputTypes[1].type)}}getQueryType(){return this.schema.outputTypes.find(e=>e.name==="Query")}getMutationType(){return this.schema.outputTypes.find(e=>e.name==="Mutation")}getOutputTypes(){return this.schema.outputTypes.map(this.outputTypeToMergedOutputType)}getEnumMap(){return $e(this.schema.enums,"name")}getModelMap(){return $e(this.datamodel.models,"name")}getMergedOutputTypeMap(){return $e(this.outputTypes,"name")}getInputTypeMap(){return $e(this.schema.inputTypes,"name")}getMappingsMap(){return $e(this.mappings,"model")}getRootFieldMap(){return Oa(this.queryType.fields,this.mutationType.fields,"name")}}const E=R(ve()),Ue=R(Gr());function _a(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function Ra(e){if(e instanceof Buffer){const t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(t),t}else{if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}}function Pa(e){const t=[];return e.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?t[n]=Pa(r):_a(r)?t[n]=Ra(r):t[n]=er({},r):t[n]=r}),t}function La(e,t){return t==="__proto__"?void 0:e[t]}const er=function(e,...t){if(!e||typeof e!="object")return!1;if(t.length===0)return e;let r,n;for(const i of t){if(typeof i!="object"||i===null||Array.isArray(i))continue;for(const s of Object.keys(i)){if(n=La(e,s),r=La(i,s),r===e)continue;if(typeof r!="object"||r===null){e[s]=r;continue}else if(Array.isArray(r)){e[s]=Pa(r);continue}else if(_a(r)){e[s]=Ra(r);continue}else if(typeof n!="object"||n===null||Array.isArray(n)){e[s]=er({},r);continue}else{e[s]=er(n,r);continue}}}return e};const Na=e=>Array.isArray(e)?e:e.split("."),Ii=(e,t)=>Na(t).reduce((r,n)=>r&&r[n],e),Vr=(e,t,r)=>Na(t).reduceRight((n,i,s,o)=>Object.assign({},Ii(e,o.slice(0,s)),{[i]:n}),r);function Fa(e,t){if(!e||typeof e!="object"||typeof e.hasOwnProperty!="function")return e;const r={};for(const n in e){const i=e[n];e.hasOwnProperty(n)&&t(n,i)&&(r[n]=i)}return r}function Hr(e,t){const r={},n=Array.isArray(t)?t:[t];for(const i in e)e.hasOwnProperty(i)&&!n.includes(i)&&(r[i]=e[i]);return r}const ne=R(ve()),ki=R(tr());"use strict";const Cp=Ua(),Sp=za(),Ip=Va().default,Op=(e,t,r)=>{const n=[];return function i(s,o={},a="",l=[]){o.indent=o.indent||"	";let c;o.inlineCharacterLimit===void 0?c={newLine:`
`,newLineOrSpace:`
`,pad:a,indent:a+o.indent}:c={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const u=d=>{if(o.inlineCharacterLimit===void 0)return d;const h=d.replace(new RegExp(c.newLine,"g"),"").replace(new RegExp(c.newLineOrSpace,"g")," ").replace(new RegExp(c.pad+"|"+c.indent,"g"),"");return h.length<=o.inlineCharacterLimit?h:d.replace(new RegExp(c.newLine+"|"+c.newLineOrSpace,"g"),`
`).replace(new RegExp(c.pad,"g"),a).replace(new RegExp(c.indent,"g"),a+o.indent)};if(n.indexOf(s)!==-1)return'"[Circular]"';if(s==null||typeof s=="number"||typeof s=="boolean"||typeof s=="function"||typeof s=="symbol"||Cp(s))return String(s);if(s instanceof Date)return`new Date('${s.toISOString()}')`;if(Array.isArray(s)){if(s.length===0)return"[]";n.push(s);const d="["+c.newLine+s.map((h,p)=>{const m=s.length-1===p?c.newLine:","+c.newLineOrSpace;let w=i(h,o,a+o.indent,[...l,p]);return o.transformValue&&(w=o.transformValue(s,p,w)),c.indent+w+m}).join("")+c.pad+"]";return n.pop(),u(d)}if(Sp(s)){let d=Object.keys(s).concat(Ip(s));if(o.filter&&(d=d.filter(p=>o.filter(s,p))),d.length===0)return"{}";n.push(s);const h="{"+c.newLine+d.map((p,m)=>{const w=d.length-1===m?c.newLine:","+c.newLineOrSpace,g=typeof p=="symbol",y=!g&&/^[a-z$_][a-z$_0-9]*$/i.test(p),b=g||y?p:i(p,o,void 0,[...l,p]);let M=i(s[p],o,a+o.indent,[...l,p]);o.transformValue&&(M=o.transformValue(s,p,M));let v=c.indent+String(b)+": "+M+w;return o.transformLine&&(v=o.transformLine({obj:s,indent:c.indent,key:b,stringifiedValue:M,value:s[p],eol:w,originalLine:v,path:l.concat(b)})),v}).join("")+c.pad+"}";return n.pop(),u(h)}return s=String(s).replace(/[\r\n]/g,d=>d===`
`?"\\n":"\\r"),o.singleQuotes===!1?(s=s.replace(/"/g,'\\"'),`"${s}"`):(s=s.replace(/\\?'/g,"\\'"),`'${s}'`)}(e,t,r)};var rr=Op;const _i="@@__DIM_POINTER__@@";function Wr({ast:e,keyPaths:t,valuePaths:r,missingItems:n}){let i=e;for(const{path:s,type:o}of n)i=Vr(i,s,o);return rr(i,{indent:"  ",transformLine:({indent:s,key:o,value:a,stringifiedValue:l,eol:c,path:u})=>{const d=u.join("."),h=t.includes(d),p=r.includes(d),m=n.find(g=>g.path===d);let w=l;if(m){typeof a=="string"&&(w=w.slice(1,w.length-1));const g=m.isRequired?"":"?",y=m.isRequired?"+":"?",b=m.isRequired?ne.default.greenBright:ne.default.green;let M=b(_p(o+g+": "+w+c,s,y));return m.isRequired||(M=ne.default.dim(M)),M}else{const g=n.some(v=>d.startsWith(v.path)),y=o[o.length-2]==="?";y&&(o=o.slice(1,o.length-1)),y&&typeof a=="object"&&a!==null&&(w=w.split(`
`).map((v,A,k)=>A===k.length-1?v+_i:v).join(`
`)),g&&typeof a=="string"&&(w=w.slice(1,w.length-1),y||(w=ne.default.bold(w))),(typeof a!="object"||a===null)&&!p&&!g&&(w=ne.default.dim(w));const b=h?ne.default.redBright(o):o;w=p?ne.default.redBright(w):w;let M=s+b+": "+w+(g?c:ne.default.dim(c));if(h||p){const v=M.split(`
`),A=String(o).length,k=h?ne.default.redBright("~".repeat(A)):" ".repeat(A),z=p?kp(s,o,a,l):0,Q=Boolean(p&&typeof a=="object"&&a!==null),I=p?"  "+ne.default.redBright("~".repeat(z)):"";k&&k.length>0&&!Q&&v.splice(1,0,s+k+I),k&&k.length>0&&Q&&v.splice(v.length-1,0,s.slice(0,s.length-2)+I),M=v.join(`
`)}return M}}})}function kp(e,t,r,n){return r===null?4:typeof r=="string"?r.length+2:typeof r=="object"?Rp(`${t}: ${ki.default(n)}`)-e.length:String(r).length}function Rp(e){return e.split(`
`).reduce((t,r)=>r.length>t?r.length:t,0)}function _p(e,t,r){return e.split(`
`).map((n,i,s)=>i===0?r+t.slice(1)+n:i<s.length-1?r+n.slice(1):n).map(n=>ki.default(n).includes(_i)?ne.default.dim(n.replace(_i,"")):n.includes("?")?ne.default.dim(n):n).join(`
`)}const ie=R(ve()),nl=R(Ha());const Be=R(ve()),Wp=Be.default.rgb(246,145,95),Jp=Be.default.rgb(107,139,140),Jr=Be.default.cyan,Wa=Be.default.rgb(127,155,155),Ja=e=>e,Ya={keyword:Jr,entity:Jr,value:Wa,punctuation:Jp,directive:Jr,function:Jr,variable:Wa,string:Be.default.greenBright,boolean:Wp,number:Be.default.cyan,comment:Be.default.grey};var Yr={},Yp=0,D={manual:Yr.Prism&&Yr.Prism.manual,disableWorkerMessageHandler:Yr.Prism&&Yr.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof we){const t=e;return new we(t.type,D.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(D.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Yp}),e.__id},clone:function e(t,r){var n,i,s=D.util.type(t);r=r||{};switch(s){case"Object":if(i=D.util.objId(t),r[i])return r[i];n={},r[i]=n;for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],r));return n;case"Array":return i=D.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,l){n[l]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){var r=D.util.clone(D.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||D.languages;var i=n[e],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);r.hasOwnProperty(o)||(s[o]=i[o])}var l=n[e];return n[e]=s,D.languages.DFS(D.languages,function(c,u){u===l&&c!=e&&(this[c]=s)}),s},DFS:function e(t,r,n,i){i=i||{};var s=D.util.objId;for(var o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);var a=t[o],l=D.util.type(a);l==="Object"&&!i[s(a)]?(i[s(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[s(a)]&&(i[s(a)]=!0,e(a,r,o,i))}}},plugins:{},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return D.hooks.run("before-tokenize",n),n.tokens=D.tokenize(n.code,n.grammar),D.hooks.run("after-tokenize",n),we.stringify(D.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,o){for(var a in r){if(!r.hasOwnProperty(a)||!r[a])continue;if(a==o)return;var l=r[a];l=D.util.type(l)==="Array"?l:[l];for(var c=0;c<l.length;++c){var u=l[c],d=u.inside,h=!!u.lookbehind,p=!!u.greedy,m=0,w=u.alias;if(p&&!u.pattern.global){var g=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,g+"g")}u=u.pattern||u;for(var y=n,b=i;y<t.length;b+=t[y].length,++y){var M=t[y];if(t.length>e.length)return;if(M instanceof we)continue;if(p&&y!=t.length-1){u.lastIndex=b;var I=u.exec(e);if(!I)break;for(var Q=I.index+(h?I[1].length:0),de=I.index+I[0].length,v=y,A=b,k=t.length;v<k&&(A<de||!t[v].type&&!t[v-1].greedy);++v)A+=t[v].length,Q>=A&&(++y,b=A);if(t[y]instanceof we)continue;z=v-y,M=e.slice(b,A),I.index-=b}else{u.lastIndex=0;var I=u.exec(M),z=1}if(!I){if(s)break;continue}h&&(m=I[1]?I[1].length:0);var Q=I.index+m,I=I[0].slice(m),de=Q+I.length,L=M.slice(0,Q),P=M.slice(de),re=[y,z];L&&(++y,b+=L.length,re.push(L));var Re=new we(a,d?D.tokenize(I,d):I,w,I,p);if(re.push(Re),P&&re.push(P),Array.prototype.splice.apply(t,re),z!=1&&D.matchGrammar(e,t,r,y,b,!0,a),s)break}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}return D.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=D.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=D.hooks.all[e];if(!r||!r.length)return;for(var n=0,i;i=r[n++];)i(t)}},Token:we};D.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};D.languages.javascript=D.languages.extend("clike",{"class-name":[D.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});D.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;D.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:D.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:D.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:D.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:D.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});D.languages.markup&&D.languages.markup.tag.addInlined("script","javascript");D.languages.js=D.languages.javascript;D.languages.typescript=D.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});D.languages.ts=D.languages.typescript;function we(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}we.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return we.stringify(r,t)}).join(""):Qp(e.type)(e.content)};function Qp(e){return Ya[e]||Ja}function Qa(e){return Kp(e,D.languages.javascript)}function Kp(e,t){const r=D.tokenize(e,t);return r.map(n=>we.stringify(n)).join("")}const tl=R(el());function rl(e){return tl.default(e)}function Zp(e,t){const r=String(t).length,n=String(e).length;return n>=r?String(e):" ".repeat(r-n)+e}const Qr=({callsite:e,originalMethod:t,onUs:r,showColors:n,renderPathRelative:i,printFullStack:s,isValidationError:o})=>{const a=20;let l=":",c=`
`,u="",d=0,h=`prisma.${t}()`;if(e&&typeof window=="undefined"){const g=nl.parse(e),y=g.find((b,M)=>M<3&&b.methodName.includes("Object.")?!1:b.file&&!b.file.includes("@prisma")&&!b.file.includes("getPrismaClient")&&!b.methodName.includes("new ")&&!b.methodName.includes("_getCallsite")&&b.methodName.split(".").length<4);if(process.env.NODE_ENV!=="production"&&y&&y.file&&y.lineNumber&&y.column&&!y.file.startsWith("internal/")){const b=y.lineNumber,M=i?require("path").relative(process.cwd(),y.file):y.file;l=e?` in
${ie.default.underline(`${M}:${y.lineNumber}:${y.column}`)}`:"";const v=process.stdout.rows||20,A=Math.max(0,b-5),k=a+b-A;if(v>k||s){const z=require("fs"),Q=z.existsSync(y.file);if(Q){const I=z.readFileSync(y.file,"utf-8"),de=I.split(`
`).slice(A,b).join(`
`),L=rl(de).split(`
`),P=L[L.length-1];if(!P||P.trim()==="")l=":";else{const re=/(\S+(create|updateMany|deleteMany|update|delete|findMany|findOne)\()/,Re=P.match(re);Re&&(h=`${Re[1]})`);const Or=P.indexOf("{"),lt=L.map((Pe,zt,Qn)=>!r&&zt===Qn.length-1?Pe.slice(0,Or>-1?Or:Pe.length-1):Pe).join(`
`),Yn=n?Qa(lt).split(`
`):lt.split(`
`);c=`
`+Yn.map((Pe,zt)=>ie.default.grey(Zp(zt+A+1,b+A+1)+" ")+ie.default.reset()+Pe).map((Pe,zt,Qn)=>zt===Qn.length-1?`${ie.default.red.bold("→")} ${ie.default.dim(Pe)}`:ie.default.dim("  "+Pe)).join(`
`),!Re&&!o&&(c+=`

`),u=")",d=String(b+A+1).length+p(P)+1+(Re?2:0)}}}}}function p(g){let y=0;for(let b=0;b<g.length;b++){if(g.charAt(b)!==" ")return y;y++}return y}const m=r?ie.default.red(`Oops, an unknown error occured! This is ${ie.default.bold("on us")}, you did nothing wrong.
It occured in the ${ie.default.bold(`\`${h}\``)} invocation${l}`):ie.default.red(`Invalid ${ie.default.bold(`\`${h}\``)} invocation${l}`),w=`
${m}
${c}${ie.default.reset()}`;return{indent:d,stack:w,afterLines:u,lastErrorHeight:a}};const Li=R(tr());function ef(e){return Array.prototype.concat.apply([],e)}function Pi(e,t,r){return ef(e.map(t,r))}const ir=2;class rf{constructor(e,t){this.type=e;this.children=t;this.printFieldError=({error:e,path:t},r,n)=>{if(e.type==="emptySelect"){const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(Qe(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="emptyInclude"){if(r.length===0)return`${E.default.bold(Qe(e.field.outputType.type))} does not have any relation and therefore can't have an ${E.default.redBright("`include`")} statement.`;const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`include`")} statement for type ${E.default.bold(Qe(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="noTrueSelect")return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(Qe(e.field.outputType.type))} needs ${E.default.bold("at least one truthy value")}.`;if(e.type==="includeAndSelect")return`Please ${E.default.bold("either")} use ${E.default.greenBright("`include`")} or ${E.default.greenBright("`select`")}, but ${E.default.redBright("not both")} at the same time.`;if(e.type==="invalidFieldName"){const i=e.isInclude?"include":"select",s=e.isIncludeScalar?"Invalid scalar":"Unknown",o=n?"":e.isInclude&&r.length===0?`
This model has no relations, so you can't use ${E.default.redBright("include")} with it.`:` Available options are listed in ${E.default.greenBright.dim("green")}.`;let a=`${s} field ${E.default.redBright(`\`${e.providedName}\``)} for ${E.default.bold(i)} statement on model ${E.default.bold.white(e.modelName)}.${o}`;return e.didYouMean&&(a+=` Did you mean ${E.default.greenBright(`\`${e.didYouMean}\``)}?`),e.isIncludeScalar&&(a+=`
Note, that ${E.default.bold("include")} statements only accept relation fields.`),a}if(e.type==="invalidFieldType"){const i=`Invalid value ${E.default.redBright(`${rr(e.providedValue)}`)} of type ${E.default.redBright(vt(e.providedValue,void 0))} for field ${E.default.bold(`${e.fieldName}`)} on model ${E.default.bold.white(e.modelName)}. Expected either ${E.default.greenBright("true")} or ${E.default.greenBright("false")}.`;return i}};this.printArgError=({error:e,path:t},r,n)=>{if(e.type==="invalidName"){let i=`Unknown arg ${E.default.redBright(`\`${e.providedName}\``)} in ${E.default.bold(t.join("."))} for type ${E.default.bold(e.outputType?e.outputType.name:Xt(e.originalType))}.`;return e.didYouMeanField?i+=`
→ Did you forget to wrap it with \`${E.default.greenBright("select")}\`? ${E.default.dim("e.g. "+E.default.greenBright(`{ select: { ${e.providedName}: ${e.providedValue} } }`))}`:e.didYouMeanArg?(i+=` Did you mean \`${E.default.greenBright(e.didYouMeanArg)}\`?`,!r&&!n&&(i+=` ${E.default.dim("Available args:")}
`+Et(e.originalType,!0))):e.originalType.fields.length===0?i+=` The field ${E.default.bold(e.originalType.name)} has no arguments.`:!r&&!n&&(i+=` Available args:

`+Et(e.originalType,!0)),i}if(e.type==="invalidType"){let i=rr(e.providedValue,{indent:"  "});const s=i.split(`
`).length>1;if(s&&(i=`
${i}
`),e.requiredType.bestFittingType.kind==="enum")return`Argument ${E.default.bold(e.argName)}: Provided value ${E.default.redBright(i)}${s?"":" "}of type ${E.default.redBright(vt(e.providedValue))} on ${E.default.bold(`prisma.${this.children[0].name}`)} is not a ${E.default.greenBright(Kt(Mt(e.requiredType.bestFittingType.kind),e.requiredType.bestFittingType.isList))}.
→ Possible values: ${e.requiredType.bestFittingType.type.values.map(c=>E.default.greenBright(`${Mt(e.requiredType.bestFittingType.type)}.${c}`)).join(", ")}`;let o=".";Xr(e.requiredType.bestFittingType.type)&&(o=`:
`+Et(e.requiredType.bestFittingType.type));let a=`${e.requiredType.inputType.map(c=>E.default.greenBright(Kt(Mt(c.type),e.requiredType.bestFittingType.isList))).join(" or ")}${o}`;const l=e.requiredType.inputType.length===2&&e.requiredType.inputType.find(c=>Xr(c.type))||null;return l&&(a+=`
`+Et(l.type,!0)),`Argument ${E.default.bold(e.argName)}: Got invalid value ${E.default.redBright(i)}${s?"":" "}on ${E.default.bold(`prisma.${this.children[0].name}`)}. Provided ${E.default.redBright(vt(e.providedValue))}, expected ${a}`}if(e.type==="invalidNullArg"){const i=t.length===1&&t[0]===e.name?"":` for ${E.default.bold(`${t.join(".")}`)}`,s=` Please use ${E.default.bold.greenBright("undefined")} instead.`;return`Argument ${E.default.greenBright(e.name)}${i} must not be ${E.default.bold("null")}.${s}`}if(e.type==="missingArg"){const i=t.length===1&&t[0]===e.missingName?"":` for ${E.default.bold(`${t.join(".")}`)}`;return`Argument ${E.default.greenBright(e.missingName)}${i} is missing.`}if(e.type==="atLeastOne"){const i=n?"":` Available args are listed in ${E.default.dim.green("green")}.`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("at least one")} argument.${i}`}if(e.type==="atMostOne"){const i=n?"":` Please choose one. ${E.default.dim("Available args:")} 
${Et(e.inputType,!0)}`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("exactly one")} argument, but you provided ${e.providedKeys.map(s=>E.default.redBright(s)).join(" and ")}.${i}`}};this.type=e,this.children=t}toString(){return`${this.type} {
${Ue.default(this.children.map(String).join(`
`),ir)}
}`}validate(e,t=!1,r,n,i){e||(e={});const s=this.children.filter(g=>g.hasInvalidChild||g.hasInvalidArg);if(s.length===0)return;const o=[],a=[],l=e&&e.select?"select":e.include?"include":void 0;for(const g of s){const y=g.collectErrors(l);o.push(...y.fieldErrors.map(b=>({...b,path:t?b.path:b.path.slice(1)}))),a.push(...y.argErrors.map(b=>({...b,path:t?b.path:b.path.slice(1)})))}const c=this.children[0].name,u=t?this.type:c,d=[],h=[],p=[];for(const g of o){const y=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidFieldName"){d.push(y);const b=g.error.outputType,{isInclude:M}=g.error;b.fields.filter(v=>M?v.outputType.kind==="object":!0).forEach(v=>{const A=y.split(".");p.push({path:`${A.slice(0,A.length-1).join(".")}.${v.name}`,type:"true",isRequired:!1})})}else g.error.type==="includeAndSelect"?(d.push("select"),d.push("include")):h.push(y);if(g.error.type==="emptySelect"||g.error.type==="noTrueSelect"||g.error.type==="emptyInclude"){const b=this.normalizePath(g.path,e),M=b.slice(0,b.length-1).join("."),v=g.error.field.outputType.type;v.fields.filter(A=>g.error.type==="emptyInclude"?A.outputType.kind==="object":!0).forEach(A=>{p.push({path:`${M}.${A.name}`,type:"true",isRequired:!1})})}}for(const g of a){const y=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidName")d.push(y);else if(g.error.type!=="missingArg"&&g.error.type!=="atLeastOne")h.push(y);else if(g.error.type==="missingArg"){const b=g.error.missingArg.inputTypes.length===1?g.error.missingArg.inputTypes[0].type:g.error.missingArg.inputTypes.map(M=>{const v=Xt(M.type);return v==="Null"?"null":M.isList?v+"[]":v}).join(" | ");p.push({path:y,type:Ci(b,!0,y.split("where.").length===2),isRequired:g.error.missingArg.isRequired})}}const m=g=>{const y=a.some(L=>L.error.type==="missingArg"&&L.error.missingArg.isRequired),b=Boolean(a.find(L=>L.error.type==="missingArg"&&!L.error.missingArg.isRequired)),M=b||y;let v="";y&&(v+=`
${E.default.dim("Note: Lines with ")}${E.default.reset.greenBright("+")} ${E.default.dim("are required")}`),b&&(v.length===0&&(v=`
`),y?v+=E.default.dim(`, lines with ${E.default.green("?")} are optional`):v+=E.default.dim(`Note: Lines with ${E.default.green("?")} are optional`),v+=E.default.dim("."));const A=`${a.filter(L=>L.error.type!=="missingArg"||L.error.missingArg.isRequired).map(L=>this.printArgError(L,M,n==="minimal")).join(`
`)}
${o.map(L=>this.printFieldError(L,p,n==="minimal")).join(`
`)}`;if(n==="minimal")return Li.default(A);const{stack:k,indent:z,afterLines:Q}=Qr({callsite:g,originalMethod:r||u,showColors:n&&n==="pretty",isValidationError:!0});let I={ast:t?{[c]:e}:e,keyPaths:d,valuePaths:h,missingItems:p};(r==null?void 0:r.endsWith("aggregate"))&&(I=tf(I));const de=`${k}${Ue.default(Wr(I),z).slice(z)}${E.default.dim(Q)}

${A}${v}
`;return process.env.NO_COLOR||n==="colorless"?Li.default(de):de},w=new Kr(m(i));throw process.env.NODE_ENV!=="production"&&Object.defineProperty(w,"render",{get:()=>m,enumerable:!1}),w}normalizePath(e,t){const r=e.slice(),n=[];let i,s=t;for(;(i=r.shift())!==void 0;){if(!Array.isArray(s)&&i===0)continue;i==="select"?s[i]?s=s[i]:s=s.include:s&&s[i]&&(s=s[i]),n.push(i)}return n}}class Kr extends Error{}class se{constructor({name:e,args:t,children:r,error:n,schemaField:i}){this.name=e,this.args=t,this.children=r,this.error=n,this.schemaField=i,this.hasInvalidChild=r?r.some(s=>Boolean(s.error||s.hasInvalidArg||s.hasInvalidChild)):!1,this.hasInvalidArg=t?t.hasInvalidArg:!1}toString(){let e=this.name;return this.error?e+" # INVALID_FIELD":(this.args&&this.args.args&&this.args.args.length>0&&(this.args.args.length===1?e+=`(${this.args.toString()})`:e+=`(
${Ue.default(this.args.toString(),ir)}
)`),this.children&&(e+=` {
${Ue.default(this.children.map(String).join(`
`),ir)}
}`),e)}collectErrors(e="select"){const t=[],r=[];if(this.error&&t.push({path:[this.name],error:this.error}),this.children)for(const n of this.children){const i=n.collectErrors(e);t.push(...i.fieldErrors.map(s=>({...s,path:[this.name,e,...s.path]}))),r.push(...i.argErrors.map(s=>({...s,path:[this.name,e,...s.path]})))}return this.args&&r.push(...this.args.collectErrors().map(n=>({...n,path:[this.name,...n.path]}))),{fieldErrors:t,argErrors:r}}}class oe{constructor(e=[]){this.args=e,this.hasInvalidArg=e?e.some(t=>Boolean(t.hasError)):!1}toString(){return this.args.length===0?"":`${this.args.map(e=>e.toString()).filter(e=>e).join(`
`)}`}collectErrors(){return this.hasInvalidArg?Pi(this.args,e=>e.collectErrors()):[]}}function Zr(e,t,r,n,i){return i?e===null?"null":e&&e.values&&e.__prismaRawParamaters__?JSON.stringify(e.values):JSON.stringify(JSON.stringify(e)):e===void 0?null:e===null?"null":n&&typeof e=="string"?e:n&&Array.isArray(e)?`[${e.join(", ")}]`:JSON.stringify(e,t,r)}class Ce{constructor({key:e,value:t,argType:r,isEnum:n=!1,error:i,schemaArg:s}){this.key=e,this.value=t,this.argType=r,this.isEnum=n,this.error=i,this.schemaArg=s,this.isNullable=(s==null?void 0:s.inputTypes.reduce((o,a)=>o&&s.isNullable,!0))||!1,this.hasError=Boolean(i)||(t instanceof oe?t.hasInvalidArg:!1)||Array.isArray(t)&&t.some(o=>o instanceof oe?o.hasInvalidArg:!1)}_toString(e,t){var r;if(typeof e=="undefined")return;if(e instanceof oe)return e.args.length===1&&e.args[0].key==="set"&&((r=e.args[0].schemaArg)==null?void 0:r.inputTypes[0].type)==="Json"?`${t}: {
  set: ${Zr(e.args[0].value,null,2,this.isEnum,!0)}
}`:`${t}: {
${Ue.default(e.toString(),2)}
}`;if(Array.isArray(e)){if(this.argType==="Json")return`${t}: ${Zr(e,null,2,this.isEnum,this.argType==="Json")}`;const n=!e.some(i=>typeof i=="object");return`${t}: [${n?"":`
`}${Ue.default(e.map(i=>i instanceof oe?`{
${Ue.default(i.toString(),ir)}
}`:Zr(i,null,2,this.isEnum)).join(`,${n?" ":`
`}`),n?0:ir)}${n?"":`
`}]`}return`${t}: ${Zr(e,null,2,this.isEnum,this.argType==="Json")}`}toString(){return this._toString(this.value,this.key)}collectErrors(){if(!this.hasError)return[];const e=[];return this.error&&e.push({error:this.error,path:[this.key]}),Array.isArray(this.value)&&e.push(...Pi(this.value,(t,r)=>t.collectErrors?t.collectErrors().map(n=>({...n,path:[this.key,r,...n.path]})):[])),this.value instanceof oe&&e.push(...this.value.collectErrors().map(t=>({...t,path:[this.key,...t.path]}))),e}}function sr({dmmf:e,rootTypeName:t,rootField:r,select:n}){n||(n={});const i=t==="query"?e.queryType:e.mutationType,s={args:[],outputType:{isList:!1,type:i,kind:"object"},isRequired:!0,name:t},o=il(e,{[r]:n},s,[t]);return new rf(t,o)}function or(e){return e}function il(e,t,r,n){const i=r.outputType.type;return Object.entries(t).reduce((s,[o,a])=>{const l=i.fieldMap?i.fieldMap[o]:i.fields.find(g=>g.name===o);if(!l)return s.push(new se({name:o,children:[],error:{type:"invalidFieldName",modelName:i.name,providedName:o,didYouMean:zr(o,i.fields.map(g=>g.name)),outputType:i}})),s;if(typeof a!="boolean"&&l.outputType.kind==="scalar"&&l.name!=="executeRaw"&&l.name!=="queryRaw"&&i.name!=="Query"&&!o.startsWith("aggregate")&&l.name!=="count")return s.push(new se({name:o,children:[],error:{type:"invalidFieldType",modelName:i.name,fieldName:o,providedValue:a}})),s;if(a===!1)return s;const c={name:l.name,fields:l.args,constraints:{minNumFields:null,maxNumFields:null}},u=typeof a=="object"?Hr(a,["include","select"]):void 0,d=u?en(u,c,[],typeof l=="string"?void 0:l.outputType.type):void 0,h=l.outputType.kind==="object";if(a){if(a.select&&a.include)s.push(new se({name:o,children:[new se({name:"include",args:new oe,error:{type:"includeAndSelect",field:l}})]}));else if(a.include){const g=Object.keys(a.include);if(g.length===0)return s.push(new se({name:o,children:[new se({name:"include",args:new oe,error:{type:"emptyInclude",field:l}})]})),s;if(l.outputType.kind==="object"){const y=l.outputType.type,b=y.fields.filter(v=>v.outputType.kind==="object").map(v=>v.name),M=g.filter(v=>!b.includes(v));if(M.length>0)return s.push(...M.map(v=>new se({name:v,children:[new se({name:v,args:new oe,error:{type:"invalidFieldName",modelName:y.name,outputType:y,providedName:v,didYouMean:zr(v,b)||void 0,isInclude:!0,isIncludeScalar:y.fields.some(A=>A.name===v)}})]}))),s}}else if(a.select){const g=Object.values(a.select);if(g.length===0)return s.push(new se({name:o,children:[new se({name:"select",args:new oe,error:{type:"emptySelect",field:l}})]})),s;const y=g.filter(b=>b);if(y.length===0)return s.push(new se({name:o,children:[new se({name:"select",args:new oe,error:{type:"noTrueSelect",field:l}})]})),s}}const p=h?sl(l.outputType.type):null;let m=p;a&&(a.select?m=a.select:a.include&&(m=er(p,a.include)));const w=m!==!1&&h?il(e,m,l,[...n,o]):void 0;return s.push(new se({name:o,args:d,children:w,schemaField:l})),s},[])}function sl(e){return e.fields.reduce((t,r)=>(r.outputType.kind==="scalar"||r.outputType.kind==="enum"?t[r.name]=!0:r.outputType.type.isEmbedded&&(t[r.name]={select:sl(r.outputType.type)}),t),{})}function Ni(e,t,r,n){const i=new Ce({key:e,value:t,isEnum:n.kind==="enum",argType:n.type,error:{type:"invalidType",providedValue:t,argName:e,requiredType:{inputType:r.inputTypes,bestFittingType:n}}});return i}function nf(e,t,r){const{type:n,isList:i}=r,s=Kt(Mt(n),i),o=vt(e,n);return i&&o==="List<>"||(s==="Json"||(o==="DateTime"&&s==="String"||(o==="List<DateTime>"&&s==="List<String>"||(o==="UUID"&&s==="String"||(o==="List<UUID>"&&s==="List<String>"||(o==="String"&&s==="ID"||(o==="List<String>"&&s==="List<ID>"||(s==="List<String>"&&(o==="List<String | UUID>"||o==="List<UUID | String>")||(o==="Int"&&s==="Float"||(o==="List<Int>"&&s==="List<Float>"||(o==="Int"&&s==="Long"||(o==="List<Int>"&&s==="List<Long>"||o===s))))))))))))?!0:!t.isRequired&&e===null}const tn=e=>Fa(e,(t,r)=>r!==void 0);function of(e,t,r){let n=null;for(const i of r.inputTypes)if(n=sf(e,t,r,i),(n==null?void 0:n.collectErrors().length)===0)return n;return n}function sf(e,t,r,n){if(typeof t=="undefined")return r.isRequired?new Ce({key:e,value:t,isEnum:n.kind==="enum",error:{type:"missingArg",missingName:e,missingArg:r,atLeastOne:!1,atMostOne:!1}}):null;const{isNullable:i,isRequired:s}=r;if(t===null&&!i&&!s){const c=Xr(n.type)?n.type.constraints.minNumFields!==null&&n.type.constraints.minNumFields>0:!1;if(!c)return new Ce({key:e,value:t,isEnum:n.kind==="enum",error:{type:"invalidNullArg",name:e,invalidType:r.inputTypes,atLeastOne:!1,atMostOne:!1}})}if(!n.isList)if(Xr(n.type)){if(typeof t!="object")return Ni(e,t,r,n);{let c=tn(t),u;const d=Object.keys(c||{}),h=d.length;return h===0&&typeof n.type.constraints.minNumFields=="number"&&n.type.constraints.minNumFields>0?u={type:"atLeastOne",key:e,inputType:n.type}:h>1&&typeof n.type.constraints.maxNumFields=="number"&&n.type.constraints.maxNumFields<2&&(u={type:"atMostOne",key:e,inputType:n.type,providedKeys:d}),new Ce({key:e,value:c===null?null:en(c,n.type,r.inputTypes),isEnum:n.kind==="enum",error:u,argType:n.type,schemaArg:r})}}else return ol(e,t,r,n);if(!Array.isArray(t)&&n.isList&&(e!=="updateMany"&&(t=[t])),n.kind==="enum"||n.kind==="scalar")return ol(e,t,r,n);const o=n.type,a=typeof o.constraints.minNumFields=="number"&&o.constraints.minNumFields>0?Array.isArray(t)&&t.some(c=>!c||Object.keys(tn(c)).length===0):!1;let l=a?{inputType:o,key:e,type:"atLeastOne"}:void 0;if(!l){const c=typeof o.constraints.maxNumFields=="number"&&o.constraints.maxNumFields<2?Array.isArray(t)&&t.find(u=>!u||Object.keys(tn(u)).length!==1):!1;c&&(l={inputType:o,key:e,type:"atMostOne",providedKeys:Object.keys(c)})}if(!Array.isArray(t))for(const c of r.inputTypes){const u=en(t,c.type);if(u.collectErrors().length===0)return new Ce({key:e,value:u,isEnum:!1,argType:c.type,schemaArg:r})}return new Ce({key:e,value:t.map(c=>n.isList&&typeof c!="object"?c:typeof c!="object"||!t?Ni(e,c,r,n):en(c,o)),isEnum:!1,argType:o,schemaArg:r,error:l})}function Xr(e){return typeof e=="string"?!1:!e.hasOwnProperty("values")}function ol(e,t,r,n){return nf(t,r,n)?new Ce({key:e,value:t,isEnum:r.inputTypes[0].kind==="enum",argType:n.type,schemaArg:r}):Ni(e,t,r,n)}function en(e,t,r,n){const i=tn(e),{fields:s,fieldMap:o}=t,a=s.map(d=>[d.name,void 0]),l=Object.entries(i||{}),c=ka(l,a,d=>d[0]),u=c.reduce((d,[h,p])=>{const m=o?o[h]:s.find(g=>g.name===h);if(!m){const g=typeof p=="boolean"&&n&&n.fields.some(y=>y.name===h)?h:null;return d.push(new Ce({key:h,value:p,error:{type:"invalidName",providedName:h,providedValue:p,didYouMeanField:g,didYouMeanArg:!g&&zr(h,[...s.map(y=>y.name),"select"])||void 0,originalType:t,possibilities:r,outputType:n}})),d}const w=of(h,p,m);return w&&d.push(w),d},[]);if(typeof t.constraints.minNumFields=="number"&&l.length<t.constraints.minNumFields||u.find(d=>{var h,p;return((h=d.error)==null?void 0:h.type)==="missingArg"||((p=d.error)==null?void 0:p.type)==="atLeastOne"})){const d=t.fields.filter(h=>!h.isRequired&&i&&(typeof i[h.name]=="undefined"||i[h.name]===null));u.push(...d.map(h=>{const p=h.inputTypes[0];return new Ce({key:h.name,value:void 0,isEnum:p.kind==="enum",error:{type:"missingArg",missingName:h.name,missingArg:h,atLeastOne:Boolean(t.constraints.minNumFields)||!1,atMostOne:t.constraints.maxNumFields===1||!1}})}))}return new oe(u)}function ar({document:e,path:t,data:r}){const n=Ii(r,t);if(n==="undefined")return null;if(typeof n!="object")return n;const i=af(e,t),s=Fi({field:i,data:n});return ji({field:i,data:s})}function Fi({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="DateTime")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?new Date(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?new Date(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Fi({field:r,data:n[r.name]});else Fi({field:r,data:t[r.name]})}return t}function ji({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="Json")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?JSON.parse(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?JSON.parse(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)ji({field:r,data:n[r.name]});else ji({field:r,data:t[r.name]})}return t}function af(e,t){const r=t.slice(),n=r.shift();let i=e.children.find(s=>s.name===n);if(!i)throw new Error(`Could not find field ${n} in document ${e}`);for(;r.length>0;){const s=r.shift();if(!i.children)throw new Error(`Can't get children for field ${i} with child ${s}`);const o=i.children.find(a=>a.name===s);if(!o)throw new Error(`Can't find child ${s} of field ${i}`);i=o}return i}function qi(e){return e.split(".").filter(t=>t!=="select").join(".")}function $i(e){const t=Object.prototype.toString.call(e);if(t==="[object Object]"){const r={};for(const n in e)if(n==="select")for(const i in e.select)r[i]=$i(e.select[i]);else r[n]=$i(e[n]);return r}return e}function tf({ast:e,keyPaths:t,missingItems:r,valuePaths:n}){const i=t.map(qi),s=n.map(qi),o=r.map(l=>({path:qi(l.path),isRequired:l.isRequired,type:l.type})),a=$i(e);return{ast:a,keyPaths:i,missingItems:o,valuePaths:s}}const Ir=R(require("path")),ge=R(Bs()),Us=R(Fs());const Jn=R(lr()),Gs=R(require("fs")),_e=R(ve()),zs=R(js()),jd=R(Sd()),qd=R(Id());function Od(e){return typeof e=="string"?e:e.reduce((t,r)=>{const n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function _d(e,t,r){const n=kd(e,r),i=kd(t,r),s=Object.values(i).map(a=>a[a.length-1]),o=Object.keys(i);return Object.entries(n).forEach(([a,l])=>{o.includes(a)||s.push(l[l.length-1])}),s}const kd=(e,t)=>e.reduce((r,n)=>{const i=t(n);return r[i]||(r[i]=[]),r[i].push(n),r},{});class Rd{constructor(e){this.options=e;this.tickActive=!1;this.batches={}}request(e){const t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(const e in this.batches){const t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){const i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)})}}}const $d=R(tr());const Bd=R(Pd());function at(e){return JSON.stringify($s(e))}function $s(e){const t=Object.prototype.toString.call(e);if(t==="[object Date]")return{prisma__type:"date",prisma__value:e.toJSON()};if(t==="[object Object]"){const r={};for(let n in e)n!=="__proto__"&&(r[n]=$s(e[n]));return r}if(t==="[object Array]"){let r=e.length,n;for(n=new Array(r);r--;)n[r]=$s(e[r]);return n}return e}const Ud=R(require("async_hooks"));const Fd=Nd().version;const ye=Jn.default("prisma-client"),Yw={findOne:"query",findFirst:"query",findMany:"query",count:"query",create:"mutation",update:"mutation",updateMany:"mutation",upsert:"mutation",delete:"mutation",deleteMany:"mutation",executeRaw:"mutation",queryRaw:"mutation",aggregate:"query"},Qw={avg:!0,count:!0,sum:!0,min:!0,max:!0};function Vs(e){class t{constructor(r){this._middlewares=[];this._engineMiddlewares=[];var n,i,s,o,a,l;this._clientVersion=(n=e.clientVersion)!=null?n:Fd;try{const c=r!=null?r:{},u=(i=c.__internal)!=null?i:{},d=u.debug===!0;d&&Jn.default.enable("prisma-client"),u.hooks&&(this._hooks=u.hooks);let h=(s=e.sqliteDatasourceOverrides)!=null?s:[];h=h.map(v=>({name:v.name,url:"file:"+Ir.default.resolve(e.dirname,v.url)}));const p=Object.entries(c.datasources||{}).filter(([v,A])=>A&&A.url).map(([v,{url:A}])=>({name:v,url:A})),m=_d(h,p,v=>v.name),w=u.engine||{};c.errorFormat?this._errorFormat=c.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless";const g=this.readEnv();this._dmmf=new Zt(e.document);let y=Ir.default.resolve(e.dirname,e.relativePath);Gs.default.existsSync(y)||(y=e.dirname);const b=(a=(o=e.generator)==null?void 0:o.previewFeatures)!=null?a:[];this._engineConfig={cwd:y,enableDebugLogs:d,enableEngineDebugMode:w.enableEngineDebugMode,datamodelPath:Ir.default.join(e.dirname,"schema.prisma"),prismaPath:(l=w.binaryPath)!=null?l:void 0,engineEndpoint:w.endpoint,datasources:m,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:c.log&&Od(c.log),logQueries:c.log&&Boolean(typeof c.log=="string"?c.log==="query":c.log.find(v=>typeof v=="string"?v==="query":v.level==="query")),env:g,flags:[],clientVersion:e.clientVersion,enableExperimental:Bd.mapPreviewFeatures(b),useUds:u.useUds};const M=Hr(this._engineConfig,["env","datasources"]);if(ye({engineConfig:M}),this._engine=new Us.NodeEngine(this._engineConfig),this._fetcher=new Kw(this,!1,this._hooks),c.log)for(const v of c.log){const A=typeof v=="string"?v:v.emit==="stdout"?v.level:null;A&&this.$on(A,k=>{const z={query:"blue",info:"cyan",warn:"yellow",error:"red"};console.error(_e.default[z[A]](`prisma:${A}`.padEnd(13))+(k.message||k.query))})}this._bootstrapClient()}catch(c){throw c.clientVersion=this._clientVersion,c}}readEnv(){const r=Ir.default.resolve(e.dirname,e.relativePath,".env");return Gs.default.existsSync(r)?qd.dotenvExpand(jd.default.config({path:r})).parsed:{}}use(...r){return console.warn(`${_e.default.yellow("warn")} prisma.use() is deprecated, please use prisma.$use() instead`),this.$use(...r)}$use(r,n){if(typeof r=="function")this._middlewares.push(r);else if(typeof r=="string")if(r==="all")this._middlewares.push(n);else if(r==="engine")this._engineMiddlewares.push(n);else throw new Error(`Unknown middleware hook ${r}`);else throw new Error(`Invalid middleware ${r}`)}on(r,n){return console.warn(`${_e.default.yellow("warn")} prisma.on() is deprecated, please use prisma.$on() instead`),this.$on(r,n)}$on(r,n){r==="beforeExit"?this._engine.on("beforeExit",n):this._engine.on(r,i=>{const s=i.fields;return r==="query"?n({timestamp:i.timestamp,query:s.query,params:s.params,duration:s.duration_ms,target:i.target}):n({timestamp:i.timestamp,message:s.message,target:i.target})})}connect(){return console.warn(`${_e.default.yellow("warn")} prisma.connect() is deprecated, please use prisma.$connect() instead`),this.$connect()}async $connect(){try{return this._engine.start()}catch(r){throw r.clientVersion=this._clientVersion,r}}async _runDisconnect(){await this._engine.stop(),delete this._connectionPromise,this._engine=new Us.NodeEngine(this._engineConfig),delete this._disconnectionPromise,delete this._getConfigPromise}disconnect(){return console.warn(`${_e.default.yellow("warn")} prisma.disconnect() is deprecated, please use prisma.$disconnect() instead`),this.$disconnect()}async $disconnect(){try{return this._engine.stop()}catch(r){throw r.clientVersion=this._clientVersion,r}}async _getActiveProvider(){const r=await this._engine.getConfig();return r.datasources[0].activeProvider}executeRaw(r,...n){return console.warn(`${_e.default.yellow("warn")} prisma.executeRaw() is deprecated, please use prisma.$executeRaw() instead`),this.$executeRaw(r,...n)}async $executeRawInternal(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(ye("Prisma Client call:"),Array.isArray(r)){const l=zs.sqltag(r,...n);i=l[o],s={values:at(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:at(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:at(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?ye(`prisma.executeRaw(${i}, ${s.values})`):ye(`prisma.executeRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"executeRaw",dataPath:[],action:"executeRaw",callsite:this._getCallsite(),runInTransaction:!1})}$executeRaw(r,...n){try{const i=this.$executeRawInternal(r,...n);return i.isExecuteRaw=!0,i}catch(i){throw i.clientVersion=this._clientVersion,i}}_getCallsite(){return this._errorFormat!=="minimal"?new Error().stack:void 0}queryRaw(r,...n){return console.warn(`${_e.default.yellow("warn")} prisma.queryRaw() is deprecated, please use prisma.$queryRaw() instead`),this.$queryRaw(r,...n)}async $queryRawInternal(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(ye("Prisma Client call:"),Array.isArray(r)){const l=zs.sqltag(r,...n);i=l[o],s={values:at(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:at(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:at(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?ye(`prisma.queryRaw(${i}, ${s.values})`):ye(`prisma.queryRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"queryRaw",dataPath:[],action:"queryRaw",callsite:this._getCallsite(),runInTransaction:!1})}$queryRaw(r,...n){try{const i=this.$queryRawInternal(r,...n);return i.isQueryRaw=!0,i}catch(i){throw i.clientVersion=this._clientVersion,i}}async __internal_triggerPanic(r){if(!this._engineConfig.enableEngineDebugMode)throw new Error(`In order to use .__internal_triggerPanic(), please enable the debug mode like so:
new PrismaClient({
  __internal: {
    engine: {
      enableEngineDebugMode: true
    }
  }
})`);const n="SELECT 1",i=r?{"X-DEBUG-FATAL":"1"}:{"X-DEBUG-NON-FATAL":"1"};return this._request({action:"queryRaw",args:{query:n,parameters:void 0},clientMethod:"queryRaw",dataPath:[],runInTransaction:!1,headers:i,callsite:this._getCallsite()})}transaction(r){return console.warn(`${_e.default.yellow("warn")} prisma.transaction() is deprecated, please use prisma.$transaction() instead`),this.$transaction(r)}async $transactionInternal(r){var n,i;if((i=(n=e.generator)==null?void 0:n.previewFeatures)==null?void 0:i.includes("transactionApi")){for(const s of r){if(!s)throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");if(s==null?void 0:s.isQueryRaw)throw new Error(`$queryRaw is not yet supported within $transaction.
Please report in https://github.com/prisma/prisma/issues/3828 if you need this feature.`);if(s==null?void 0:s.isExecuteRaw)throw new Error(`$executeRaw is not yet supported within $transaction.
Please report in https://github.com/prisma/prisma/issues/3828 if you need this feature`);if(!s.requestTransaction||typeof s.requestTransaction!="function")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.")}return Promise.all(r.map(s=>s.requestTransaction()))}else throw new Error(`In order to use the .transaction() api, please enable 'previewFeatures = "transactionApi" in your schema.`)}async $transaction(r){try{return this.$transactionInternal(r)}catch(n){throw n.clientVersion=this._clientVersion,n}}_request(r){try{const n=new Ud.AsyncResource("prisma-client-request");if(this._middlewares.length>0){const i={args:r.args,dataPath:r.dataPath,runInTransaction:r.runInTransaction,action:r.action,model:r.model};return n.runInAsyncScope(()=>this._requestWithMiddlewares(i,this._middlewares.slice(),r.clientMethod,r.callsite,r.headers))}return n.runInAsyncScope(()=>this._executeRequest(r))}catch(n){throw n.clientVersion=this._clientVersion,n}}_requestWithMiddlewares(r,n,i,s,o){const a=n.shift();return a?a(r,l=>this._requestWithMiddlewares(l,n,i,s)):(r.clientMethod=i,r.callsite=s,r.headers=o,this._executeRequest(r))}_executeRequest({args:r,clientMethod:n,dataPath:i,callsite:s,runInTransaction:o,action:a,model:l,headers:c}){if(a!=="executeRaw"&&a!=="queryRaw"&&!l)throw new Error(`Model missing for action ${a}`);if((a==="executeRaw"||a==="queryRaw")&&l)throw new Error(`executeRaw and queryRaw can't be executed on a model basis. The model ${l} has been provided`);let u;const d=Yw[a];(a==="executeRaw"||a==="queryRaw")&&(u=a);let h;if(l){if(h=this._dmmf.mappingsMap[l],!h)throw new Error(`Could not find mapping for model ${l}`);u=h[a]}if(d!=="query"&&d!=="mutation")throw new Error(`Invalid operation ${d} for action ${a}`);const p=this._dmmf.rootFieldMap[u];if(!p)throw new Error(`Could not find rootField ${u} for action ${a} for model ${l} on rootType ${d}`);const{isList:m}=p.outputType,w=Qe(p.outputType.type);let g=sr({dmmf:this._dmmf,rootField:u,rootTypeName:d,select:r});if(g.validate(r,!1,n,this._errorFormat,s),g=or(g),Jn.default.enabled("prisma-client")){const y=String(g);ye("Prisma Client call:"),ye(`prisma.${n}(${Wr({ast:r,keyPaths:[],valuePaths:[],missingItems:[]})})`),ye("Generated request:"),ye(y+`
`)}return this._fetcher.request({document:g,clientMethod:n,typeName:w,dataPath:i,isList:m,rootField:u,callsite:s,showColors:this._errorFormat==="pretty",args:r,engineHook:this._engineMiddlewares[0],runInTransaction:o,headers:c})}_bootstrapClient(){const r=this._dmmf.mappings.reduce((n,i)=>{const s=Si(i.model),o=this._dmmf.modelMap[i.model];if(!o)throw new Error(`Invalid mapping ${i.model}, can't find model`);const a=({operation:l,actionName:c,args:u,dataPath:d,modelName:h})=>{d=d!=null?d:[];const p=`${s}.${c}`;let m;const w=this._getCallsite(),g=h!=null?h:o.name,y={then:(b,M)=>(m||(m=this._request({args:u,dataPath:d,action:c,model:g,clientMethod:p,callsite:w,runInTransaction:!1})),m.then(b,M)),requestTransaction:()=>(m||(m=this._request({args:u,dataPath:d,action:c,model:g,clientMethod:p,callsite:w,runInTransaction:!0})),m),catch:b=>(m||(m=this._request({args:u,dataPath:d,action:c,model:g,clientMethod:p,callsite:w,runInTransaction:!1})),m.catch(b)),finally:b=>(m||(m=this._request({args:u,dataPath:d,action:c,model:g,clientMethod:p,callsite:w,runInTransaction:!1})),m.finally(b))};for(const b of o.fields.filter(M=>M.kind==="object"))y[b.name]=M=>{const v=d.includes("select")?"select":d.includes("include")?"include":"select",A=[...d,v,b.name],k=Vr(u,A,M||!0);return r[b.type]({operation:l,actionName:c,args:k,dataPath:A,isList:b.isList,modelName:h||o.name})};return y};return n[o.name]=a,n},{});for(const n of this._dmmf.mappings){const i=Si(n.model),s={model:!0,plural:!0,aggregate:!0},o=Object.entries(n).reduce((a,[l,c])=>{if(!s[l]){const u=Xw(l);a[l]=d=>r[n.model]({operation:u,actionName:l,args:d})}return a},{});o.count=a=>r[n.model]({operation:"query",actionName:"aggregate",args:a?{...a,select:{count:!0}}:void 0,dataPath:["count"]}),o.aggregate=a=>{const l=Object.entries(a).reduce((c,[u,d])=>(Qw[u]?(c.select||(c.select={}),u==="count"?c.select[u]=d:c.select[u]={select:d}):c[u]=d,c),{});return r[n.model]({operation:"query",actionName:"aggregate",rootField:n.aggregate,args:l,dataPath:[]})},this[i]=o}}}return t}class Kw{constructor(e,t=!1,r){this.prisma=e,this.debug=t,this.hooks=r,this.dataloader=new Rd({batchLoader:async n=>{const i=n.map(o=>String(o.document)),s=n[0].runInTransaction;return this.prisma._engine.requestBatch(i,s)},singleLoader:async n=>{const i=String(n.document);return this.prisma._engine.request(i,n.headers)},batchBy:n=>{var o;if(n.runInTransaction)return"transaction-batch";if(!n.document.children[0].name.startsWith("findOne"))return null;const i=n.document.children[0].children.join(","),s=(o=n.document.children[0].args)==null?void 0:o.args.map(a=>a.value instanceof oe?a.key+"-"+a.value.args.map(l=>l.key).join(","):a.key).join(",");return`${n.document.children[0].name}|${s}|${i}`}})}async request({document:e,dataPath:t=[],rootField:r,typeName:n,isList:i,callsite:s,clientMethod:o,runInTransaction:a,showColors:l,engineHook:c,args:u,headers:d}){if(this.hooks&&this.hooks.beforeRequest){const h=String(e);this.hooks.beforeRequest({query:h,path:t,rootField:r,typeName:n,document:e,isList:i,clientMethod:o,args:u})}try{let h,p;if(c){const w=await c({document:e,runInTransaction:a},g=>this.dataloader.request(g));h=w.data,p=w.elapsed}else{const w=await this.dataloader.request({document:e,runInTransaction:a,headers:d});h=w.data,p=w.elapsed}const m=this.unpack(e,h,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:m,elapsed:p}:m}catch(h){ye(h);let p=h.message;if(s){const{stack:m}=Qr({callsite:s,originalMethod:o,onUs:h.isPanic,showColors:l});p=m+`
  `+h.message}throw p=this.sanitizeMessage(p),h.code?new ge.PrismaClientKnownRequestError(p,h.code,this.prisma._clientVersion,h.meta):h.isPanic?new ge.PrismaClientRustPanicError(p,this.prisma._clientVersion):h instanceof ge.PrismaClientUnknownRequestError?new ge.PrismaClientUnknownRequestError(p,this.prisma._clientVersion):h instanceof ge.PrismaClientInitializationError?new ge.PrismaClientInitializationError(p,this.prisma._clientVersion):h instanceof ge.PrismaClientRustPanicError?new ge.PrismaClientRustPanicError(p,this.prisma._clientVersion):(h.clientVersion=this.prisma._clientVersion,h)}}sanitizeMessage(e){return this.prisma._errorFormat&&this.prisma._errorFormat!=="pretty"?$d.default(e):e}unpack(e,t,r,n){t.data&&(t=t.data);const i=[];return n&&i.push(n),i.push(...r.filter(s=>s!=="select"&&s!=="include")),ar({document:e,data:t,path:i})}}function Xw(e){return e===je.DMMF.ModelAction.findMany||e===je.DMMF.ModelAction.findOne||e===je.DMMF.ModelAction.findFirst?"query":"mutation"}module.exports=Bs();
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
//# sourceMappingURL=index.js.map
